!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RootAppClient",[],t):"object"==typeof exports?exports.RootAppClient=t():e.RootAppClient=t()}(this,()=>(()=>{var e={18:e=>{"use strict";e.exports=require("tty")},20:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityRoleType=t.CommunityUserOnlineStatus=void 0,function(e){e[e.Unspecified=0]="Unspecified",e[e.OnlineAndAttached=1]="OnlineAndAttached",e[e.AwayAndAttached=2]="AwayAndAttached",e[e.Online=3]="Online",e[e.Away=4]="Away",e[e.Offline=5]="Offline"}(n||(t.CommunityUserOnlineStatus=n={})),function(e){e[e.Standard=1]="Standard",e[e.Everyone=2]="Everyone"}(i||(t.CommunityRoleType=i={}))},23:e=>{"use strict";e.exports=require("util")},25:function(e,t){"use strict";var n,i,r,o,s,a,l,d,c,u,h,p,f,m,g,w,y,b,T,k,v,U,R,E,B,I,N,C,x,F,S,M,A,O,W,_,G,P,L,$,j,D,H,V,q,J,X,K,Y,Z,z,Q,ee=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},te=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.DevBar=void 0;class ne extends HTMLElement{constructor(){super(),n.add(this),r.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),u.set(this,void 0),h.set(this,void 0),p.set(this,void 0),f.set(this,void 0),m.set(this,void 0),g.set(this,void 0),w.set(this,void 0),y.set(this,void 0),b.set(this,void 0),B.set(this,new Set),I.set(this,new Set);const e=this.attachShadow({mode:"closed"});ee(this,n,"m",N).call(this),ee(this,n,"m",x).call(this),ee(this,n,"m",Q).call(this,e),e.appendChild(ee(this,r,"f")),setTimeout(()=>{ee(this,n,"m",W).call(this)},100),setInterval(()=>{ee(i,i,"f",v)&&0!==ee(i,i,"f",T).length||ee(this,n,"m",W).call(this)},2e3)}connectedCallback(){console.log("DevBar connected")}disconnectedCallback(){console.log("DevBar disconnected")}}t.DevBar=ne,i=ne,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,w=new WeakMap,y=new WeakMap,b=new WeakMap,B=new WeakMap,I=new WeakMap,n=new WeakSet,N=function(){te(this,r,document.createElement("div"),"f"),ee(this,r,"f").className="devbar",te(this,o,document.createElement("div"),"f"),ee(this,o,"f").className="devbar-content";const e=document.createElement("div");e.className="devbar-logo",e.innerHTML='\n      <svg width="24" height="24" viewBox="0 0 110 115" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <mask id="mask0_2_128037" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="110" height="115">\n          <g clip-path="url(#clip0_2_128037)">\n            <path d="M-0.0592651 13.1872V81.0205H43.9407V114.908L109.704 77.2947V13.1872L54.8224 -0.000976562L-0.0592651 13.1872ZM91.9622 66.9453L61.6827 84.2732V63.2195H17.6827V27.1442L54.8224 18.2141L91.9622 27.1442V66.9453Z" fill="#07101B"/>\n            <path d="M51.4515 50.3278L24.188 49.3816V33.1772L51.4515 42.4031V50.3278Z" fill="#07101B"/>\n            <path d="M58.1934 50.3278L85.3977 49.3816V33.1772L58.1934 42.4031V50.3278Z" fill="#07101B"/>\n          </g>\n        </mask>\n        <g mask="url(#mask0_2_128037)">\n          <rect x="-16.9441" y="-96.9902" width="143.752" height="311.075" fill="var(--rootsdk-text-primary)"/>\n        </g>\n        <defs>\n          <clipPath id="clip0_2_128037">\n            <rect width="110" height="114.849" fill="var(--rootsdk-text-primary)" />\n          </clipPath>\n        </defs>\n      </svg>\n    ',te(this,s,document.createElement("div"),"f"),ee(this,s,"f").className="user-selector",ee(this,s,"f").innerHTML="<span>Current User:</span>",te(this,a,document.createElement("div"),"f"),ee(this,a,"f").className="user-dropdown",te(this,l,document.createElement("button"),"f"),ee(this,l,"f").className="user-dropdown-button",ee(this,l,"f").innerHTML=`<span>Select User</span>${ee(this,n,"m",C).call(this,"down")}`,te(this,d,document.createElement("div"),"f"),ee(this,d,"f").className="user-dropdown-content",te(this,c,document.createElement("div"),"f"),ee(this,c,"f").className="community-roles-selector";const t=document.createElement("span");t.textContent="Community Roles:",ee(this,c,"f").appendChild(t),te(this,u,document.createElement("div"),"f"),ee(this,u,"f").className="community-roles-dropdown",te(this,h,document.createElement("button"),"f"),ee(this,h,"f").className="community-roles-dropdown-button",ee(this,h,"f").innerHTML=`<span>Select Roles</span>${ee(this,n,"m",C).call(this,"down")}`,te(this,p,document.createElement("div"),"f"),ee(this,p,"f").className="community-roles-dropdown-content",te(this,f,document.createElement("button"),"f"),ee(this,f,"f").className="confirm-roles-button",ee(this,f,"f").textContent="Confirm",ee(this,f,"f").style.display="none",ee(this,u,"f").appendChild(ee(this,h,"f")),ee(this,u,"f").appendChild(ee(this,p,"f"));const i=document.createElement("div");i.className="community-roles-controls",i.appendChild(ee(this,u,"f")),i.appendChild(ee(this,f,"f")),ee(this,c,"f").appendChild(i),te(this,m,document.createElement("div"),"f"),ee(this,m,"f").className="theme-selector";const T=document.createElement("span");T.textContent="Theme:",ee(this,m,"f").appendChild(T),te(this,g,document.createElement("div"),"f"),ee(this,g,"f").className="theme-dropdown",te(this,w,document.createElement("button"),"f"),ee(this,w,"f").className="theme-dropdown-button",ee(this,w,"f").innerHTML=`<span>Select Theme</span>${ee(this,n,"m",C).call(this,"down")}`,te(this,y,document.createElement("div"),"f"),ee(this,y,"f").className="theme-dropdown-content",ee(this,g,"f").appendChild(ee(this,w,"f")),ee(this,g,"f").appendChild(ee(this,y,"f"));const k=document.createElement("div");k.className="theme-controls",k.appendChild(ee(this,g,"f")),ee(this,m,"f").appendChild(k),te(this,b,document.createElement("div"),"f"),ee(this,b,"f").className="devhost-status",ee(this,b,"f").innerHTML='<span>Devhost: </span><span class="status-inactive"> Inactive</span>',ee(this,a,"f").appendChild(ee(this,l,"f")),ee(this,a,"f").appendChild(ee(this,d,"f")),ee(this,s,"f").appendChild(ee(this,a,"f")),ee(this,o,"f").appendChild(e),ee(this,o,"f").appendChild(ee(this,s,"f")),ee(this,o,"f").appendChild(ee(this,c,"f")),ee(this,o,"f").appendChild(ee(this,m,"f")),ee(this,o,"f").appendChild(ee(this,b,"f")),ee(this,r,"f").appendChild(ee(this,o,"f"))},C=function(e){return`\n      <svg class="icon" viewBox="0 0 10 10" fill="none" stroke="var(--rootsdk-text-primary)" stroke-width="2">\n        <path d="${{down:"M1 1 L5 5 L9 1",up:"M1 5 L5 1 L9 5"}[e]}" />\n      </svg>\n    `},x=function(){ee(this,l,"f").addEventListener("click",()=>ee(this,n,"m",F).call(this)),ee(this,h,"f").addEventListener("click",()=>ee(this,n,"m",S).call(this)),ee(this,w,"f").addEventListener("click",()=>ee(this,n,"m",M).call(this)),ee(this,f,"f").addEventListener("click",()=>ee(this,n,"m",H).call(this))},F=function(){ee(this,d,"f").classList.toggle("open"),ee(this,l,"f").innerHTML=`<span>${ee(i,i,"f",k)?.nickname||"Select User"}</span>${ee(this,n,"m",C).call(this,ee(this,d,"f").classList.contains("open")?"up":"down")}`},S=function(){ee(this,n,"m",z).call(this)||(ee(this,p,"f").classList.toggle("open"),ee(this,n,"m",A).call(this))},M=function(){ee(this,y,"f").classList.toggle("open"),ee(this,n,"m",O).call(this)},A=function(){const e=ee(i,i,"f",k)?.communityRoleIds.map(e=>ee(i,i,"f",U).find(t=>t.id===e)?.name).filter(Boolean)||[],t=e.length>0?e.join(", "):"Select Roles";ee(this,h,"f").innerHTML=`\n      <span>${t}</span>${ee(this,n,"m",C).call(this,ee(this,p,"f").classList.contains("open")?"up":"down")}\n    `},O=function(){},W=async function(){const e=!!window.__rootSdkBridgeDev;te(i,i,e,"f",v),e&&(await ee(this,n,"m",G).call(this),await ee(this,n,"m",P).call(this),await ee(this,n,"m",_).call(this)),ee(this,n,"m",V).call(this)},_=async function(){if("function"==typeof window.__rootSdkBridgeWebToNative?.listCommunityRoles)try{te(i,i,await window.__rootSdkBridgeWebToNative.listCommunityRoles(),"f",U)}catch(e){console.error("Error fetching roles:",e)}},G=async function(){if("function"==typeof window.__rootSdkBridgeDev?.devGetUsers)try{te(i,i,await window.__rootSdkBridgeDev.devGetUsers(),"f",T)}catch(e){console.error("Error fetching users:",e)}},P=async function(){if("function"==typeof window.__rootSdkBridgeDev?.devGetUser)try{const e=await window.__rootSdkBridgeDev.devGetUser();e&&te(i,i,e,"f",k)}catch(e){console.error("Error fetching current user:",e)}},L=async function(e){if("function"==typeof window.__rootSdkBridgeDev?.devSetUser)try{await window.__rootSdkBridgeDev.devSetUser(e),te(i,i,e,"f",k),ee(this,B,"f").clear(),te(this,I,new Set(e.communityRoleIds),"f"),ee(this,n,"m",V).call(this)}catch(e){console.error("Error setting user:",e)}},$=function(e){window.__rootSdkBridgeDev.devSetTheme(e)},j=function(e){if(!ee(i,i,"f",k)||ee(this,n,"m",z).call(this))return;ee(i,i,"f",k).communityRoleIds.includes(e.id)!==ee(this,I,"f").has(e.id)?ee(this,B,"f").add(e.id):ee(this,B,"f").delete(e.id),ee(this,f,"f").style.display=ee(this,B,"f").size>0?"inline-block":"none"},D=function(e){te(i,i,e,"f",E),ee(this,n,"m",$).call(this,e)},H=async function(){if(ee(i,i,"f",k)&&!ee(this,n,"m",z).call(this))try{for(const e of ee(this,B,"f")){ee(i,i,"f",k).communityRoleIds.includes(e)?(await window.__rootSdkBridgeDev.devUserRemoveRole({userId:ee(i,i,"f",k).id,communityRoleId:e}),ee(i,i,"f",k).communityRoleIds=ee(i,i,"f",k).communityRoleIds.filter(t=>t!==e)):(await window.__rootSdkBridgeDev.devUserAddRole({userId:ee(i,i,"f",k).id,communityRoleId:e}),ee(i,i,"f",k).communityRoleIds.push(e))}ee(this,B,"f").clear(),te(this,I,new Set(ee(i,i,"f",k).communityRoleIds),"f"),ee(this,f,"f").style.display="none",ee(this,n,"m",V).call(this)}catch(e){console.error("Error updating user roles:",e),alert("Failed to update roles. Please try again.")}},V=function(){ee(this,n,"m",q).call(this),ee(this,n,"m",X).call(this),ee(this,n,"m",Y).call(this),ee(this,n,"m",Z).call(this)},q=function(){ee(this,l,"f").innerHTML=`\n      <span>${ee(i,i,"f",k)?.nickname||"Select User"}</span>\n      ${ee(this,n,"m",C).call(this,"down")}\n    `,ee(this,n,"m",J).call(this)},J=function(){ee(this,d,"f").innerHTML="",ee(i,i,"f",T).forEach(e=>{const t=document.createElement("button");t.className="user-dropdown-item",t.innerHTML=`<div>${e.nickname}</div><div class="user-id">${e.id}</div>`,t.addEventListener("click",()=>{ee(this,n,"m",L).call(this,e),ee(this,n,"m",F).call(this)}),ee(this,d,"f").appendChild(t)})},X=function(){ee(this,n,"m",A).call(this),ee(this,n,"m",K).call(this),ee(this,h,"f").disabled=ee(this,n,"m",z).call(this),ee(this,h,"f").classList.toggle("disabled",ee(this,n,"m",z).call(this))},K=function(){ee(this,p,"f").innerHTML="",ee(i,i,"f",U).forEach(e=>{const t=document.createElement("label");t.className="community-roles-dropdown-item";const r=ee(i,i,"f",k)?.communityRoleIds.includes(e.id)||!1;t.innerHTML=`\n        <input type="checkbox" ${r?"checked":""} ${ee(this,n,"m",z).call(this)?"disabled":""}>\n        <span>${e.name}</span>\n      `;t.querySelector("input").addEventListener("change",()=>ee(this,n,"m",j).call(this,e)),ee(this,p,"f").appendChild(t)})},Y=function(){ee(this,y,"f").innerHTML="",ee(i,i,"f",R).forEach(e=>{const t=document.createElement("label");t.className="theme-dropdown-item";const r=ee(i,i,"f",E)===e||!1;t.innerHTML=`\n        <input \n          type="radio" \n          name="theme"             \n          value="${e}" \n          ${r?"checked":""}>\n        <span>${e}</span>\n      `;t.querySelector("input").addEventListener("change",()=>ee(this,n,"m",D).call(this,e)),ee(this,y,"f").appendChild(t)})},Z=function(){const e=ee(this,b,"f").querySelector("span:last-child");e&&(e.className=ee(i,i,"f",v)?"status-active":"status-inactive",e.textContent=ee(i,i,"f",v)?" Active":" Inactive")},z=function(){return"Virtual User"===ee(i,i,"f",k)?.nickname},Q=function(e){const t=document.createElement("style");t.textContent="\n      .devbar {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 48px;\n        background-color: var(--rootsdk-background-primary);\n        color: var(--rootsdk-text-primary);\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n        font-size: 14px;\n        font-weight: 500;\n        z-index: 9999;\n        border-bottom: 1px solid var(--rootsdk-border);\n      }\n      .devbar-content {\n        display: flex;\n        align-items: center;\n        height: 100%;\n        padding: 0 16px;\n      }\n      .devbar-logo {\n        flex-shrink: 0;\n        height: 24px;\n        width: 24px;\n        margin-right: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      .devbar-logo svg {\n        width: 100%;\n        height: 100%;\n        fill: var(--rootsdk-text-primary);\n      }\n      .user-selector,\n      .community-roles-selector,\n      .theme-selector {\n        display: flex;\n        align-items: center;\n        margin-right: 16px;\n      }\n      .community-roles-controls {\n        display: flex;\n        align-items: center;\n      }\n      .theme-controls {\n        display: flex;\n        align-items: center;\n      }\n      .user-dropdown,\n      .community-roles-dropdown,\n      .theme-dropdown {\n        position: relative;\n        margin-left: 8px;\n      }\n      .user-dropdown-button,\n      .community-roles-dropdown-button,\n      .theme-dropdown-button {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        width: 192px;\n        background-color: var(--rootsdk-input);\n        border: 1.5px solid var(--rootsdk-border);\n        padding: 4px 12px;\n        border-radius: 6px;\n        cursor: pointer;\n        color: var(--rootsdk-text-primary);\n      }\n      .community-roles-dropdown-button.disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      .user-dropdown-content,\n      .community-roles-dropdown-content,\n      .theme-dropdown-content {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        width: 256px;\n        max-height: 384px;\n        overflow-y: auto;\n        background-color: var(--rootsdk-input);\n        border: 1.5px solid var(--rootsdk-border);\n        border-radius: 6px;\n        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        z-index: 1000;\n        margin-top: 4px;\n        display: none;\n      }\n      .user-dropdown-content.open,\n      .community-roles-dropdown-content.open,\n      .theme-dropdown-content.open {\n        display: block;\n      }\n      .user-dropdown-item,\n      .community-roles-dropdown-item,\n      .theme-dropdown-item {\n        display: block;\n        width: 100%;\n        text-align: left;\n        padding: 8px 16px;\n        background: var(--rootsdk-input);\n        color: var(--rootsdk-text-primary);\n        cursor: pointer;\n        border-bottom: 1px solid var(--rootsdk-border);\n        border-right: none;\n        border-left: none;\n        border-top: none;\n      }\n      .user-dropdown-item:last-child,\n      .community-roles-dropdown-item:last-child,\n      .theme-dropdown-item:last-child {\n        border-bottom: none;\n      }\n      .user-dropdown-item:hover,\n      .community-roles-dropdown-item:hover:not(:disabled),\n      .theme-dropdown-item:hover {\n        background-color: var(--rootsdk-highlight-normal);\n      }\n      .community-roles-dropdown-item,\n      .theme-dropdown-item {\n        display: flex;\n        align-items: center;\n      }\n      .community-roles-dropdown-item input[type=\"checkbox\"],\n      .theme-dropdown-item input[type=\"radio\"]{\n        margin-right: 8px;\n      }\n      .theme-dropdown-item input[type=\"radio\"] {\n        margin-bottom: 4px;\n      }\n      .community-roles-dropdown-item input[type=\"checkbox\"]:disabled + span {\n        opacity: 0.5;\n      }\n      .user-id {\n        font-size: 12px;\n        color: var(--rootsdk-highlight-strong);\n      }\n      .devhost-status {\n        display: flex;\n        align-items: center;\n        margin-left: auto;\n      }\n      .status-active {\n        color: var(--rootsdk-brand-secondary);\n        margin-left: 4px;\n      }\n      .status-inactive {\n        color: var(--rootsdk-error);\n        margin-left: 4px;\n      }\n      .icon {\n        width: 10px;\n        height: 10px;\n        margin-left: 8px;\n        margin-top: 5px;\n      }\n      .confirm-roles-button {\n        display: none;\n        padding: 4px 12px;\n        margin-left: 8px;\n        background-color: var(--rootsdk-brand-primary);\n        color: white;\n        border: none;\n        border-radius: 6px;\n        cursor: pointer;\n        transition: var(--rootsdk-highlight-normal) 0.2s;\n      }\n      .confirm-roles-button:hover {\n        background-color: var(--rootsdk-brand-primary);\n      }\n      .community-roles-dropdown-content {\n        max-height: none;\n        overflow-x: hidden;\n      }\n    ",e.appendChild(t)},T={value:[]},k={value:null},v={value:!1},U={value:[]},R={value:["light","dark"]},E={value:"dark"},navigator.userAgent.toLowerCase().indexOf("rootsdk")<0&&customElements.define("rootsdk-devbar",ne)},48:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownRootGuids=void 0,t.WellKnownRootGuids={CommunityRoles:{EveryoneRole:"ACTAwpQAgAuAAAAAAAAAAQ"}}},138:function(e,t,n){"use strict";var i,r,o,s,a,l,d,c,u,h,p,f,m,g,w,y,b,T,k,v,U=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},R=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.RootSdkBridgeLocal=void 0;const E=n(265),B=n(455),I=n(20),N=n(329),C=n(314),x=n(213),F=B.RootGuidUtils.toString(B.RootGuidUtils.toUuid((0,E.v4)().toString()));class S{constructor(){i.add(this),r.set(this,null),o.set(this,0),s.set(this,null),a.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),u.set(this,"http://"+window.location.hostname+":8081/"),h.set(this,"http://"+window.location.hostname+":8080"),p.set(this,"http://"+window.location.hostname+":8082"),f.set(this,"dark");const e=U(this,i,"m",T).call(this);R(this,a,e.id,"f"),R(this,l,B.RootGuidUtils.toUuid(e.id),"f"),R(this,d,B.RootGuidUtils.toUuid(e.deviceId),"f"),U(this,i,"m",y).call(this),U(this,i,"m",w).call(this,"dark"),U(this,i,"m",m).call(this)}stop(){this.stopWs(),this.stopUpdateWs()}stopWs(){U(this,r,"f")&&(U(this,r,"f").close(),R(this,r,null,"f"))}stopUpdateWs(){U(this,s,"f")&&(U(this,s,"f").close(),R(this,s,null,"f"))}devSetTheme(e){U(this,i,"m",w).call(this,e),R(this,f,e,"f")}getTheme(){return U(this,f,"f")}getCurrentUserId(){return U(this,a,"f")}fileUpload(e){if(!this.fileUploadElement)throw new Error("Root File Upload element is missing, but dev bridge is running.");return e.fileType||(e.fileType="all"),this.fileUploadElement.accept=this.fileUploadToExtension(e.fileType),this.fileUploadElement.multiple=e.multiple||!1,new Promise((e,t)=>{if(!this.fileUploadElement)throw new Error("Root File Upload element is missing, but dev bridge is running.");this.fileUploadElement.value="",this.fileUploadElement.files=null,this.fileUploadElement.onblur=()=>{if(!this.fileUploadElement)throw new Error("Root File Upload element is missing, but dev bridge is running.");t("canceled")},this.fileUploadElement.onchange=()=>{if(!this.fileUploadElement)throw new Error("Root File Upload element is missing, but dev bridge is running.");if(!this.fileUploadElement.files)return void e({tokens:[]});let t=[];for(let e=0;e<this.fileUploadElement.files.length;e++)t.push(U(this,i,"m",b).call(this,this.fileUploadElement.files[e]));Promise.all(t).then(t=>{let n=t.filter(e=>e).map(e=>e.token);e({tokens:n})})},this.fileUploadElement.oncancel=()=>{t("canceled")},this.fileUploadElement.click()})}fileUploadToExtension(e){const t=Array.isArray(e)?e:[e],n=new Set;for(let e of t)switch(e){case"all":return"*";case"text":n.add("text/*");break;case"imageAll":n.add("image/*");break;case"pdf":n.add("application/pdf")}return Array.from(n.keys()).join(",")}async downloadUri(e){return Promise.resolve(!0)}async downloadImageUri(e,t){return Promise.resolve(!0)}async getUserProfile(e){const t=await this.getUserProfiles([e]);if(1==t.length)return t[0];throw new Error("Unable to find profile for userId: "+e)}async getUserProfiles(e){const t=U(this,u,"f")+"users/profiles",n=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok)return await n.json();throw Error(`Response status ${n.status}`)}showUserProfile(e){console.log("Showing user profile: "+e)}async listSuggestedUserProfiles(){let e=U(this,u,"f")+"users/suggested";const t=await fetch(e);if(t.ok)return await t.json();throw Error(`Response status ${t.status}`)}async searchUserProfiles(e){let t=U(this,u,"f")+"users/search?search="+encodeURI(e);const n=await fetch(t);if(n.ok)return await n.json();throw Error(`Response status ${n.status}`)}fileUploadRequest(e){return console.warn("fileUploadRequest is not implemented yet"),Promise.resolve({tokens:[]})}async listCommunityRoles(){const e=U(this,u,"f")+"communityRoles/list",t=await fetch(e);if(t.ok)return await t.json();throw Error(`Response status ${t.status}`)}uriToUrl(e){return e.toLowerCase().startsWith("root://")?U(this,u,"f")+"asset?query="+encodeURI(e):e}uriToImageUrl(e,t){return e.toLowerCase().startsWith("root://")?U(this,u,"f")+"asset?query="+encodeURI(e)+"?resolution="+encodeURI(t):e}uploadTokenToPreviewImageUrl(e){return U(this,u,"f")+"asset/preview?query="+encodeURI(e)}async resolveUri(e){return Promise.resolve(void 0)}async resolveImageUri(e,t){return Promise.resolve(void 0)}userProfileUpdate(e){}async devListUserProfiles(){let e=U(this,u,"f")+"users/list";const t=await fetch(e);if(t.ok)return await t.json();throw Error(`Response status ${t.status}`)}async devUserAddRole(e){const t=U(this,u,"f")+"dev/users/role/add",n=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok)return await n.json();throw Error(`Response status ${n.status}`)}async devUserRemoveRole(e){const t=U(this,u,"f")+"dev/users/role/delete",n=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok)return await n.json();throw Error(`Response status ${n.status}`)}async devGetUsers(){let e=U(this,u,"f")+"dev/users/list";const t=await fetch(e);if(t.ok){const e=await t.json();return e.push(U(this,i,"m",v).call(this)),e}throw Error(`Response status ${t.status}`)}devGetUser(){const e=U(this,i,"m",T).call(this);return Promise.resolve({id:e.id,nickname:e.nickname,profilePictureUri:e.profilePictureUri,communityRoleIds:e.communityRoleIds,onlineStatus:e.onlineStatus})}devSetUser(e){const t=U(this,i,"m",T).call(this);e.id!=t.id&&(this.stop(),U(this,i,"m",k).call(this,e),window.location.reload())}receive(e){const t=C.AppRpcMessageToClient.fromBinary(e);if(console.log("Bridge receive"),console.log(t),!window.__rootSdkBridgeNativeToWeb?.receive)throw new Error("BridgeNativeToWeb is missing");window.__rootSdkBridgeNativeToWeb.receive(t.message,t.messageType)}send(e){U(this,c,"f")?.then(()=>{var t,n;if(!U(this,r,"f"))throw new Error("Running, but no websocket");U(this,r,"f").send(C.AppRpcMessageToHost.toBinary({sequenceNumber:BigInt((R(this,o,(n=U(this,o,"f"),t=n++,n),"f"),t)),userId:U(this,l,"f"),deviceId:U(this,d,"f"),communityId:U(this,l,"f"),message:new Uint8Array(e),messageType:C.AppRpcMessageType.APP_MESSAGE}))})}restart(e){e?window.location.href=e:window.location.reload()}}function M(){if(window.__rootSdkBridgeWebToNative?.send)return;const e=new S;window.__rootSdkBridgeWebToNative.send=t=>{e.send(t)},window.__rootSdkBridgeWebToNative.listSuggestedUserProfiles=()=>e.listSuggestedUserProfiles(),window.__rootSdkBridgeWebToNative.searchUserProfiles=t=>e.searchUserProfiles(t),window.__rootSdkBridgeWebToNative.listCommunityRoles=()=>e.listCommunityRoles(),window.__rootSdkBridgeWebToNative.uriToUrl||(window.__rootSdkBridgeWebToNative.uriToUrl=t=>e.uriToUrl(t)),window.__rootSdkBridgeWebToNative.uploadTokenToPreviewImageUrl||(window.__rootSdkBridgeWebToNative.uploadTokenToPreviewImageUrl=t=>e.uploadTokenToPreviewImageUrl(t)),window.__rootSdkBridgeWebToNative.uriToImageUrl||(window.__rootSdkBridgeWebToNative.uriToImageUrl=(t,n)=>e.uriToImageUrl(t,n)),window.__rootSdkBridgeWebToNative.restart||(window.__rootSdkBridgeWebToNative.restart=t=>e.restart(t)),window.__rootSdkBridgeDev=e,window.rootSdk=e,console.log("Attached dev bridge")}t.RootSdkBridgeLocal=S,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,i=new WeakSet,m=function(){return Promise.all([U(this,i,"m",g).call(this)])},g=async function(){U(this,r,"f")&&this.stopWs(),console.log("WebSocket to "+U(this,h,"f"));const e=U(this,i,"m",T).call(this);console.log("User ",e),R(this,a,e.id,"f"),R(this,l,B.RootGuidUtils.toUuid(e.id),"f"),R(this,d,B.RootGuidUtils.toUuid(U(this,i,"m",T).call(this).deviceId),"f"),R(this,c,new Promise((e,t)=>{const n=new WebSocket(U(this,h,"f"));n.binaryType="blob",n.onopen=()=>{var t,i;console.log("Websocket open"),e(),n.send(C.AppRpcMessageToHost.toBinary({sequenceNumber:BigInt((R(this,o,(i=U(this,o,"f"),t=i++,i),"f"),t)),userId:U(this,l,"f"),deviceId:U(this,d,"f"),communityId:U(this,l,"f"),message:new Uint8Array(0),messageType:C.AppRpcMessageType.ATTACH})),R(this,r,n,"f")},n.onmessage=async e=>{let t;t=e.data.arrayBuffer?await e.data.arrayBuffer():await e.data,this.receive(new Uint8Array(t))}}),"f")},w=function(e){let t;e in x.rootThemes||(e="dark"),t=x.rootThemes[e],(0,N.setThemeCss)(t)},y=function(){this.fileUploadElement||(this.fileUploadElement=document.createElement("input"),this.fileUploadElement.type="file",this.fileUploadElement.id="__rootFileUpload",this.fileUploadElement.style.display="none",document.body.appendChild(this.fileUploadElement),document.body.appendChild(document.createElement("rootsdk-devbar")),document.body.style.marginTop="48px")},b=function(e){const t=new FormData;return t.append("file",e),fetch(U(this,u,"f")+"asset/upload",{method:"POST",body:t}).then(e=>{if(200==e.status)return e.json()})},T=function(){let e=sessionStorage.getItem("__rootUser");if(e)return JSON.parse(e);{const e=U(this,i,"m",v).call(this);return U(this,i,"m",k).call(this,e),e}},k=function(e){const t=e;t.deviceId=F,sessionStorage.setItem("__rootUser",JSON.stringify(t))},v=function(){if(!sessionStorage.getItem("__virtualRootUser")){const e={id:B.RootGuidUtils.toString(B.RootGuidUtils.toUuid((0,E.v4)().toString())),deviceId:F,nickname:"Virtual User",communityRoleIds:[],onlineStatus:I.CommunityUserOnlineStatus.OnlineAndAttached};sessionStorage.setItem("__virtualRootUser",JSON.stringify(e))}return JSON.parse(sessionStorage.getItem("__virtualRootUser"))},navigator.userAgent.toLowerCase().indexOf("rootsdk")<0&&(window.__rootSdkBridgeWebToNative?window.parent.__rootSdkBridgeWebToNative.send?console.log("Dev Bridge offline"):M():(window.__rootSdkBridgeWebToNative={},M()))},213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootThemes=void 0;t.rootThemes={dark:{themeBase:"dark",brandPrimary:"#3B6AF8",brandSecondary:"#A8FF5D",brandTertiary:"#49D6AC",textPrimary:"#F2F2F2",textSecondary:"#A7A7A8",textTertiary:"#7B7B89",textWhite:"#F2F2F2",backgroundPrimary:"#0D1521",backgroundSecondary:"#121A26",backgroundTertiary:"#07101B",input:"#090E13",border:"#232C36",link:"#88A5FF",muted:"#4F5C6F",highlightLight:"#FFFFFF0A",highlightNormal:"#FFFFFF19",highlightStrong:"#FFFFFF30",info:"#F0F250",warning:"#E88F3D",error:"#F03f36"},light:{themeBase:"light",brandPrimary:"#3B6AF8",brandSecondary:"#58AC30",brandTertiary:"#08A677",textPrimary:"#131313",textSecondary:"#282828",textTertiary:"#5E5E5E",textWhite:"#F2F2F2",backgroundPrimary:"#FBFBFB",backgroundSecondary:"#FFFFFF",backgroundTertiary:"#F5F6F8",input:"#F5F5F5",border:"#DDDDDD",link:"#006EEB",muted:"#A9B3C0",highlightLight:"#2222220A",highlightNormal:"#22222219",highlightStrong:"#22222230",info:"#FFDE21",warning:"#EA9134",error:"#F03F36"}}},221:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(989):e.exports=n(602)},236:(e,t,n)=>{e.exports=function(e){function t(e){let n,r,o,s=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),o=r-(n||r);i.diff=o,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";s++;const o=t.formatters[r];if("function"==typeof o){const t=e[s];n=o.call(i,t),e.splice(s,1),s--}return n}),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e,t){let n=0,i=0,r=-1,o=0;for(;n<e.length;)if(i<t.length&&(t[i]===e[n]||"*"===t[i]))"*"===t[i]?(r=i,o=n,i++):(n++,i++);else{if(-1===r)return!1;i=r+1,o++,n=o}for(;i<t.length&&"*"===t[i];)i++;return i===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of n)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const n of t.skips)if(r(e,n))return!1;for(const n of t.names)if(r(e,n))return!0;return!1},t.humanize=n(301),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},265:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MAX:()=>i,NIL:()=>r,parse:()=>a,stringify:()=>c,v1:()=>T,v1ToV6:()=>k,v3:()=>U,v4:()=>E,v5:()=>B,v6:()=>I,v6ToV1:()=>N,v7:()=>S,validate:()=>s,version:()=>M});const i="ffffffff-ffff-ffff-ffff-ffffffffffff",r="00000000-0000-0000-0000-000000000000",o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;const s=function(e){return"string"==typeof e&&o.test(e)};const a=function(e){if(!s(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function d(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}const c=function(e,t=0){const n=d(e,t);if(!s(n))throw TypeError("Stringified UUID is invalid");return n},u=require("node:crypto");var h=n.n(u);const p=new Uint8Array(256);let f,m,g=p.length;function w(){return g>p.length-16&&(h().randomFillSync(p),g=0),p.slice(g,g+=16)}let y=0,b=0;const T=function(e,t,n){let i=t&&n||0;const r=t||new Array(16);let o=(e=e||{}).node,s=e.clockseq;if(e._v6||(o||(o=f),null==s&&(s=m)),null==o||null==s){const t=e.random||(e.rng||w)();null==o&&(o=[t[0],t[1],t[2],t[3],t[4],t[5]],f||e._v6||(o[0]|=1,f=o)),null==s&&(s=16383&(t[6]<<8|t[7]),void 0!==m||e._v6||(m=s))}let a=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:b+1;const c=a-y+(l-b)/1e4;if(c<0&&void 0===e.clockseq&&(s=s+1&16383),(c<0||a>y)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=a,b=l,m=s,a+=122192928e5;const u=(1e4*(268435455&a)+l)%4294967296;r[i++]=u>>>24&255,r[i++]=u>>>16&255,r[i++]=u>>>8&255,r[i++]=255&u;const h=a/4294967296*1e4&268435455;r[i++]=h>>>8&255,r[i++]=255&h,r[i++]=h>>>24&15|16,r[i++]=h>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(let e=0;e<6;++e)r[i+e]=o[e];return t||d(r)};function k(e){const t=function(e){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?a(e):e);return"string"==typeof e?d(t):t}function v(e,t,n){function i(e,i,r,o){var s;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=a(i)),16!==(null===(s=i)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(i),l.set(e,i.length),l=n(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,r){o=o||0;for(let e=0;e<16;++e)r[o+e]=l[e];return r}return d(l)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}const U=v("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),h().createHash("md5").update(e).digest()}),R={randomUUID:h().randomUUID};const E=function(e,t,n){if(R.randomUUID&&!t&&!e)return R.randomUUID();const i=(e=e||{}).random||(e.rng||w)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return d(i)};const B=v("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),h().createHash("sha1").update(e).digest()});function I(e={},t,n=0){let i=T({...e,_v6:!0},new Uint8Array(16));if(i=k(i),t){for(let e=0;e<16;e++)t[n+e]=i[e];return t}return d(i)}function N(e){const t=function(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?a(e):e);return"string"==typeof e?d(t):t}let C=null,x=null,F=0;const S=function(e,t,n){e=e||{};let i=t&&n||0;const r=t||new Uint8Array(16),o=e.random||(e.rng||w)(),s=void 0!==e.msecs?e.msecs:Date.now();let a=void 0!==e.seq?e.seq:null,l=x,c=C;return s>F&&void 0===e.msecs&&(F=s,null!==a&&(l=null,c=null)),null!==a&&(a>2147483647&&(a=2147483647),l=a>>>19&4095,c=524287&a),null!==l&&null!==c||(l=127&o[6],l=l<<8|o[7],c=63&o[8],c=c<<8|o[9],c=c<<5|o[10]>>>3),s+1e4>F&&null===a?++c>524287&&(c=0,++l>4095&&(l=0,F++)):F=s,x=l,C=c,r[i++]=F/1099511627776&255,r[i++]=F/4294967296&255,r[i++]=F/16777216&255,r[i++]=F/65536&255,r[i++]=F/256&255,r[i++]=255&F,r[i++]=l>>>4&15|112,r[i++]=255&l,r[i++]=c>>>13&63|128,r[i++]=c>>>5&255,r[i++]=c<<3&255|7&o[10],r[i++]=o[11],r[i++]=o[12],r[i++]=o[13],r[i++]=o[14],r[i++]=o[15],t||d(r)};const M=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},301:e=>{var t=1e3,n=60*t,i=60*n,r=24*i,o=7*r,s=365.25*r;function a(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,l){l=l||{};var d=typeof e;if("string"===d&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*r;case"hours":case"hour":case"hrs":case"hr":case"h":return l*i;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===d&&isFinite(e))return l.long?function(e){var o=Math.abs(e);if(o>=r)return a(e,o,r,"day");if(o>=i)return a(e,o,i,"hour");if(o>=n)return a(e,o,n,"minute");if(o>=t)return a(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=r)return Math.round(e/r)+"d";if(o>=i)return Math.round(e/i)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},314:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppPingToHost=t.AppPacketToHost=t.AppRpcMessageToClient=t.AppRpcMessageToHost=t.AppRpcMessageServerException=t.AppRpcMessage=t.AppRpcMessageType=void 0;const i=n(654),r=n(654),o=n(654),s=n(654),a=n(658),l=n(658),d=n(658),c=n(658),u=n(658);var h;!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.APP_MESSAGE=1]="APP_MESSAGE",e[e.ATTACH=2]="ATTACH",e[e.DETACH=3]="DETACH",e[e.PING=4]="PING",e[e.APP_MESSAGE_EXCEPTION=5]="APP_MESSAGE_EXCEPTION",e[e.HUB_DISCONNECTING=6]="HUB_DISCONNECTING",e[e.COMMUNITY_ADD=7]="COMMUNITY_ADD",e[e.COMMUNITY_DELETE=8]="COMMUNITY_DELETE",e[e.COMMUNITY_SET_SETTINGS=9]="COMMUNITY_SET_SETTINGS"}(h||(t.AppRpcMessageType=h={}));class p extends s.MessageType{constructor(){super("root.app.messaging.AppRpcMessage",[{no:2,name:"path",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:12},{no:4,name:"request_id",kind:"scalar",T:3,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.path="",t.body=new Uint8Array(0),t.requestId=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 2:o.path=e.string();break;case 3:o.body=e.bytes();break;case 4:o.requestId=e.int64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){""!==e.path&&t.tag(2,i.WireType.LengthDelimited).string(e.path),e.body.length&&t.tag(3,i.WireType.LengthDelimited).bytes(e.body),0n!==e.requestId&&t.tag(4,i.WireType.Varint).int64(e.requestId);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppRpcMessage=new p;class f extends s.MessageType{constructor(){super("root.app.messaging.AppRpcMessageServerException",[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"code",kind:"scalar",T:5},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"request_id",kind:"scalar",T:3,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.path="",t.code=0,t.message="",t.requestId=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.path=e.string();break;case 2:o.code=e.int32();break;case 3:o.message=e.string();break;case 4:o.requestId=e.int64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){""!==e.path&&t.tag(1,i.WireType.LengthDelimited).string(e.path),0!==e.code&&t.tag(2,i.WireType.Varint).int32(e.code),""!==e.message&&t.tag(3,i.WireType.LengthDelimited).string(e.message),0n!==e.requestId&&t.tag(4,i.WireType.Varint).int64(e.requestId);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppRpcMessageServerException=new f;class m extends s.MessageType{constructor(){super("root.app.messaging.AppRpcMessageToHost",[{no:2,name:"sequence_number",kind:"scalar",T:3,L:0},{no:4,name:"community_id",kind:"message",T:()=>u.CommunityUuid},{no:5,name:"app_id",kind:"message",T:()=>c.AppUuid},{no:6,name:"community_app_id",kind:"message",T:()=>d.CommunityAppUuid},{no:7,name:"user_id",kind:"message",T:()=>l.UserUuid},{no:8,name:"device_id",kind:"message",T:()=>a.DeviceUuid},{no:9,name:"message_type",kind:"enum",T:()=>["root.app.messaging.AppRpcMessageType",h,"APP_RPC_MESSAGE_TYPE_"]},{no:10,name:"message",kind:"scalar",T:12}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.sequenceNumber=0n,t.messageType=0,t.message=new Uint8Array(0),void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 2:o.sequenceNumber=e.int64().toBigInt();break;case 4:o.communityId=u.CommunityUuid.internalBinaryRead(e,e.uint32(),n,o.communityId);break;case 5:o.appId=c.AppUuid.internalBinaryRead(e,e.uint32(),n,o.appId);break;case 6:o.communityAppId=d.CommunityAppUuid.internalBinaryRead(e,e.uint32(),n,o.communityAppId);break;case 7:o.userId=l.UserUuid.internalBinaryRead(e,e.uint32(),n,o.userId);break;case 8:o.deviceId=a.DeviceUuid.internalBinaryRead(e,e.uint32(),n,o.deviceId);break;case 9:o.messageType=e.int32();break;case 10:o.message=e.bytes();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let h=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,h)}}return o}internalBinaryWrite(e,t,n){0n!==e.sequenceNumber&&t.tag(2,i.WireType.Varint).int64(e.sequenceNumber),e.communityId&&u.CommunityUuid.internalBinaryWrite(e.communityId,t.tag(4,i.WireType.LengthDelimited).fork(),n).join(),e.appId&&c.AppUuid.internalBinaryWrite(e.appId,t.tag(5,i.WireType.LengthDelimited).fork(),n).join(),e.communityAppId&&d.CommunityAppUuid.internalBinaryWrite(e.communityAppId,t.tag(6,i.WireType.LengthDelimited).fork(),n).join(),e.userId&&l.UserUuid.internalBinaryWrite(e.userId,t.tag(7,i.WireType.LengthDelimited).fork(),n).join(),e.deviceId&&a.DeviceUuid.internalBinaryWrite(e.deviceId,t.tag(8,i.WireType.LengthDelimited).fork(),n).join(),0!==e.messageType&&t.tag(9,i.WireType.Varint).int32(e.messageType),e.message.length&&t.tag(10,i.WireType.LengthDelimited).bytes(e.message);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppRpcMessageToHost=new m;class g extends s.MessageType{constructor(){super("root.app.messaging.AppRpcMessageToClient",[{no:2,name:"sequence_number",kind:"scalar",T:3,L:0},{no:4,name:"community_id",kind:"message",T:()=>u.CommunityUuid},{no:5,name:"app_id",kind:"message",T:()=>c.AppUuid},{no:6,name:"community_app_id",kind:"message",T:()=>d.CommunityAppUuid},{no:7,name:"device_ids",kind:"message",repeat:2,T:()=>a.DeviceUuid},{no:8,name:"message_type",kind:"enum",T:()=>["root.app.messaging.AppRpcMessageType",h,"APP_RPC_MESSAGE_TYPE_"]},{no:9,name:"message",kind:"scalar",T:12}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.sequenceNumber=0n,t.deviceIds=[],t.messageType=0,t.message=new Uint8Array(0),void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 2:o.sequenceNumber=e.int64().toBigInt();break;case 4:o.communityId=u.CommunityUuid.internalBinaryRead(e,e.uint32(),n,o.communityId);break;case 5:o.appId=c.AppUuid.internalBinaryRead(e,e.uint32(),n,o.appId);break;case 6:o.communityAppId=d.CommunityAppUuid.internalBinaryRead(e,e.uint32(),n,o.communityAppId);break;case 7:o.deviceIds.push(a.DeviceUuid.internalBinaryRead(e,e.uint32(),n));break;case 8:o.messageType=e.int32();break;case 9:o.message=e.bytes();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let l=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,l)}}return o}internalBinaryWrite(e,t,n){0n!==e.sequenceNumber&&t.tag(2,i.WireType.Varint).int64(e.sequenceNumber),e.communityId&&u.CommunityUuid.internalBinaryWrite(e.communityId,t.tag(4,i.WireType.LengthDelimited).fork(),n).join(),e.appId&&c.AppUuid.internalBinaryWrite(e.appId,t.tag(5,i.WireType.LengthDelimited).fork(),n).join(),e.communityAppId&&d.CommunityAppUuid.internalBinaryWrite(e.communityAppId,t.tag(6,i.WireType.LengthDelimited).fork(),n).join();for(let r=0;r<e.deviceIds.length;r++)a.DeviceUuid.internalBinaryWrite(e.deviceIds[r],t.tag(7,i.WireType.LengthDelimited).fork(),n).join();0!==e.messageType&&t.tag(8,i.WireType.Varint).int32(e.messageType),e.message.length&&t.tag(9,i.WireType.LengthDelimited).bytes(e.message);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppRpcMessageToClient=new g;class w extends s.MessageType{constructor(){super("root.app.messaging.AppPacketToHost",[{no:1,name:"packet",kind:"scalar",T:12}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.packet=new Uint8Array(0),void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();if(1===t)o.packet=e.bytes();else{let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){e.packet.length&&t.tag(1,i.WireType.LengthDelimited).bytes(e.packet);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppPacketToHost=new w;class y extends s.MessageType{constructor(){super("root.app.messaging.AppPingToHost",[{no:2,name:"sequence_number",kind:"scalar",T:3,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.sequenceNumber=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();if(2===t)o.sequenceNumber=e.int64().toBigInt();else{let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.sequenceNumber&&t.tag(2,i.WireType.Varint).int64(e.sequenceNumber);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppPingToHost=new y},316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootServerExceptionType=t.RootServerException=t.RootGuidUtils=t.RootGuidType=t.EmptyGuid=t.RootClientUserEvent=t.RootClientThemeEvent=t.rootClient=t.CommunityUserOnlineStatus=void 0;var i=n(20);Object.defineProperty(t,"CommunityUserOnlineStatus",{enumerable:!0,get:function(){return i.CommunityUserOnlineStatus}});var r=n(486);Object.defineProperty(t,"rootClient",{enumerable:!0,get:function(){return r.rootClient}});var o=n(329);Object.defineProperty(t,"RootClientThemeEvent",{enumerable:!0,get:function(){return o.RootClientThemeEvent}});var s=n(677);Object.defineProperty(t,"RootClientUserEvent",{enumerable:!0,get:function(){return s.RootClientUserEvent}});var a=n(455);Object.defineProperty(t,"EmptyGuid",{enumerable:!0,get:function(){return a.EmptyGuid}}),Object.defineProperty(t,"RootGuidType",{enumerable:!0,get:function(){return a.RootGuidType}}),Object.defineProperty(t,"RootGuidUtils",{enumerable:!0,get:function(){return a.RootGuidUtils}}),Object.defineProperty(t,"RootServerException",{enumerable:!0,get:function(){return a.RootServerException}}),Object.defineProperty(t,"RootServerExceptionType",{enumerable:!0,get:function(){return a.RootServerExceptionType}})},329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootClientTheme=t.RootClientThemeEvent=void 0,t.setThemeCss=function(e){for(let t in r)"themeBase"!=t&&document.documentElement.style.setProperty(r[t],e[t]);t.rootClientTheme.setTheme(e.themeBase)};const i=n(455),r={themeBase:"dark",brandPrimary:"--rootsdk-brand-primary",brandSecondary:"--rootsdk-brand-secondary",brandTertiary:"--rootsdk-brand-tertiary",textPrimary:"--rootsdk-text-primary",textSecondary:"--rootsdk-text-secondary",textTertiary:"--rootsdk-text-tertiary",textWhite:"--rootsdk-text-white",backgroundPrimary:"--rootsdk-background-primary",backgroundSecondary:"--rootsdk-background-secondary",backgroundTertiary:"--rootsdk-background-tertiary",input:"--rootsdk-input",border:"--rootsdk-border",highlightLight:"--rootsdk-highlight-light",highlightNormal:"--rootsdk-highlight-normal",highlightStrong:"--rootsdk-highlight-strong",info:"--rootsdk-info",warning:"--rootsdk-warning",error:"--rootsdk-error",muted:"--rootsdk-muted",link:"--rootsdk-link"};var o;!function(e){e.ThemeUpdate="theme.update"}(o||(t.RootClientThemeEvent=o={}));class s extends i.EventEmitter{getTheme(){return window.parent.rootSdk.getTheme()}setTheme(e){this.emit("theme.update",e)}}t.rootClientTheme=new s},365:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(316),t),r(n(534),t)},434:e=>{"use strict";e.exports=require("events")},441:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RootGuidType=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Person=1]="Person",e[e.Community=2]="Community",e[e.Message=3]="Message",e[e.Channel=4]="Channel",e[e.ChannelGroup=5]="ChannelGroup",e[e.App=9]="App",e[e.CommunityMemberInvite=10]="CommunityMemberInvite",e[e.CommunityRole=11]="CommunityRole",e[e.File=12]="File",e[e.Directory=13]="Directory",e[e.MessageAttachment=14]="MessageAttachment",e[e.DirectMessage=15]="DirectMessage",e[e.DirectMessageMember=16]="DirectMessageMember",e[e.Desktop=18]="Desktop",e[e.Mobile=19]="Mobile",e[e.Exception=20]="Exception",e[e.CommunityMemberRole=21]="CommunityMemberRole",e[e.CommunityMemberBan=24]="CommunityMemberBan",e[e.CommunityRoleMap=25]="CommunityRoleMap",e[e.CommunityLog=26]="CommunityLog",e[e.Asset=27]="Asset",e[e.AppOrganization=28]="AppOrganization",e[e.CommunityApp=29]="CommunityApp",e[e.CommandIdempotency=30]="CommandIdempotency",e[e.CommunityMember=31]="CommunityMember",e[e.Badge=34]="Badge",e[e.AppVersion=32]="AppVersion",e[e.CustomResource=224]="CustomResource",e[e.CustomMemberGroup=225]="CustomMemberGroup"}(n||(t.RootGuidType=n={}))},455:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownRootGuids=t.ServiceDefinitionSymbol=t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.EventEmitter=t.RootServerExceptionType=t.RootServerException=t.RootGuidType=t.RootGuidConverter=t.RootGuidUtils=t.ROOT_EPOCH=t.EmptyGuid=void 0;var o=n(669);Object.defineProperty(t,"EmptyGuid",{enumerable:!0,get:function(){return o.EmptyGuid}}),Object.defineProperty(t,"ROOT_EPOCH",{enumerable:!0,get:function(){return o.ROOT_EPOCH}}),Object.defineProperty(t,"RootGuidUtils",{enumerable:!0,get:function(){return o.RootGuidUtils}}),Object.defineProperty(t,"RootGuidConverter",{enumerable:!0,get:function(){return o.RootGuidConverter}}),r(n(938),t);var s=n(441);Object.defineProperty(t,"RootGuidType",{enumerable:!0,get:function(){return s.RootGuidType}});var a=n(463);Object.defineProperty(t,"RootServerException",{enumerable:!0,get:function(){return a.RootServerException}}),Object.defineProperty(t,"RootServerExceptionType",{enumerable:!0,get:function(){return a.RootServerExceptionType}});var l=n(434);Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return l.EventEmitter}});var d=n(978);Object.defineProperty(t,"DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH",{enumerable:!0,get:function(){return d.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH}}),Object.defineProperty(t,"ServiceDefinitionSymbol",{enumerable:!0,get:function(){return d.ServiceDefinitionSymbol}}),BigInt.prototype.toJSON=function(){return this.toString()};var c=n(48);Object.defineProperty(t,"WellKnownRootGuids",{enumerable:!0,get:function(){return c.WellKnownRootGuids}})},459:(e,t,n)=>{"use strict";const i=n(857),r=n(18),o=n(704),{env:s}=process;let a;function l(e,{streamIsTTY:t,sniffFlags:n=!0}={}){const r=function(){if("FORCE_COLOR"in s)return"true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(Number.parseInt(s.FORCE_COLOR,10),3)}();void 0!==r&&(a=r);const l=n?a:r;if(0===l)return 0;if(n){if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2}if(e&&!t&&void 0===l)return 0;const d=l||0;if("dumb"===s.TERM)return d;if("win32"===process.platform){const e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(e=>e in s)||"codeship"===s.CI_NAME?1:d;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=Number.parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:d}function d(e,t={}){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(l(e,{streamIsTTY:e&&e.isTTY,...t}))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),e.exports={supportsColor:d,stdout:d({isTTY:r.isatty(1)}),stderr:d({isTTY:r.isatty(2)})}},463:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RootServerException=t.RootServerExceptionType=void 0,function(e){e[e.Unspecified=0]="Unspecified",e[e.UnhandledRootApiException=-1]="UnhandledRootApiException",e[e.RequestTimeout=-2]="RequestTimeout",e[e.UnhandledException=-3]="UnhandledException",e[e.RootInternalException=-4]="RootInternalException",e[e.MessageTooLong=-7]="MessageTooLong"}(n||(t.RootServerExceptionType=n={}));class i extends Error{constructor(e=n.Unspecified,t="",i=void 0){super(t),this.code=e,Object.setPrototypeOf(this,new.target.prototype),i&&Error.captureStackTrace(this,i)}toString(){return`${this.name}: (${this.code})  - ${this.message}`}}t.RootServerException=i},486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootClient=t.RootClient$Type=void 0;const i=n(992),r=n(677),o=n(611),s=n(329),a=n(864);class l{constructor(){this.users=r.rootClientUser,this.assets=o.rootClientAsset,this.theme=s.rootClientTheme,this.lifecycle=a.rootClientLifecycle}addClient(e){i.clientServiceManager.addClient(e)}send(e,t,n){i.clientServiceManager.send(e,t,n)}sendWithResponse(e,t,n){return i.clientServiceManager.sendWithResponse(e,t,n)}}t.RootClient$Type=l,t.rootClient=new l},534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceDefinitionSymbol=t.EventEmitter=void 0;var i=n(455);Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return i.EventEmitter}}),Object.defineProperty(t,"ServiceDefinitionSymbol",{enumerable:!0,get:function(){return i.ServiceDefinitionSymbol}}),n(552)},552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DevBar=void 0;var i=n(25);Object.defineProperty(t,"DevBar",{enumerable:!0,get:function(){return i.DevBar}}),n(138)},602:(e,t,n)=>{const i=n(18),r=n(23);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let i=0;i<n.length;i++)e.inspectOpts[n[i]]=t.inspectOpts[n[i]]},t.log=function(...e){return process.stderr.write(r.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:i,useColors:r}=this;if(r){const t=this.color,r="[3"+(t<8?t:"8;5;"+t),o=`  ${r};1m${i} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(r+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+i+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)},t.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(459);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[n]=i,e},{}),e.exports=n(236)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)}},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootClientAsset=void 0;t.rootClientAsset=new class{fileUpload(e){return window.parent.rootSdk.fileUpload(e)}toUrl(e){return e?window.parent.__rootSdkBridgeWebToNative?.uriToUrl?window.parent.__rootSdkBridgeWebToNative.uriToUrl(e):e:""}toImageUrl(e,t){return e?window.parent.__rootSdkBridgeWebToNative.uriToImageUrl?window.parent.__rootSdkBridgeWebToNative.uriToImageUrl(e,t):e+"?resolution="+t:""}toUploadImagePreview(e){if(e)return window.parent.__rootSdkBridgeWebToNative.uploadTokenToPreviewImageUrl?window.parent.__rootSdkBridgeWebToNative.uploadTokenToPreviewImageUrl(e):void 0}}},654:(e,t,n)=>{"use strict";function i(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function r(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}n.r(t),n.d(t,{BinaryReader:()=>F,BinaryWriter:()=>H,LongType:()=>Q,MESSAGE_TYPE:()=>Y,MessageType:()=>Be,PbLong:()=>N,PbULong:()=>I,ReflectionBinaryReader:()=>me,ReflectionBinaryWriter:()=>ge,ReflectionJsonReader:()=>he,ReflectionJsonWriter:()=>pe,ReflectionTypeCheck:()=>ce,RepeatType:()=>ee,ScalarType:()=>z,UnknownFieldHandler:()=>u,WireType:()=>h,assert:()=>S,assertFloat32:()=>$,assertInt32:()=>P,assertNever:()=>M,assertUInt32:()=>L,base64decode:()=>a,base64encode:()=>l,binaryReadOptions:()=>x,binaryWriteOptions:()=>D,clearOneofValue:()=>le,containsMessageType:()=>Ie,getOneofValue:()=>se,getSelectedOneofValue:()=>de,isEnumObject:()=>Ne,isJsonObject:()=>r,isOneofGroup:()=>oe,jsonReadOptions:()=>J,jsonWriteOptions:()=>X,listEnumNames:()=>xe,listEnumNumbers:()=>Fe,listEnumValues:()=>Ce,lowerCamelCase:()=>Z,mergeBinaryOptions:()=>p,mergeJsonOptions:()=>K,normalizeFieldInfo:()=>te,readFieldOption:()=>ie,readFieldOptions:()=>ne,readMessageOption:()=>re,reflectionCreate:()=>we,reflectionEquals:()=>be,reflectionMergePartial:()=>ye,reflectionScalarDefault:()=>fe,setOneofValue:()=>ae,typeofJsonValue:()=>i,utf8read:()=>c});let o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),s=[];for(let e=0;e<o.length;e++)s[o[e].charCodeAt(0)]=e;function a(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,i=new Uint8Array(t),r=0,o=0,a=0;for(let t=0;t<e.length;t++){if(n=s[e.charCodeAt(t)],void 0===n)switch(e[t]){case"=":o=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:a=n,o=1;break;case 1:i[r++]=a<<2|(48&n)>>4,a=n,o=2;break;case 2:i[r++]=(15&a)<<4|(60&n)>>2,a=n,o=3;break;case 3:i[r++]=(3&a)<<6|n,o=0}}if(1==o)throw Error("invalid base64 string.");return i.subarray(0,r)}function l(e){let t,n="",i=0,r=0;for(let s=0;s<e.length;s++)switch(t=e[s],i){case 0:n+=o[t>>2],r=(3&t)<<4,i=1;break;case 1:n+=o[r|t>>4],r=(15&t)<<2,i=2;break;case 2:n+=o[r|t>>6],n+=o[63&t],i=0}return i&&(n+=o[r],n+="=",1==i&&(n+="=")),n}s["-".charCodeAt(0)]=o.indexOf("+"),s["_".charCodeAt(0)]=o.indexOf("/");const d=e=>String.fromCharCode.apply(String,e);function c(e){if(e.length<1)return"";let t,n=0,i=[],r=[],o=0,s=e.length;for(;n<s;)t=e[n++],t<128?r[o++]=t:t>191&&t<224?r[o++]=(31&t)<<6|63&e[n++]:t>239&&t<365?(t=((7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,r[o++]=55296+(t>>10),r[o++]=56320+(1023&t)):r[o++]=(15&t)<<12|(63&e[n++])<<6|63&e[n++],o>8191&&(i.push(d(r)),o=0);return i.length?(o&&i.push(d(r.slice(0,o))),i.join("")):d(r.slice(0,o))}var u,h;function p(e,t){return Object.assign(Object.assign({},e),t)}function f(){let e=0,t=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(e|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(t|=(127&i)<<n,!(128&i))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function m(e,t,n){for(let i=0;i<28;i+=7){const r=e>>>i,o=!(r>>>7==0&&0==t),s=255&(o?128|r:r);if(n.push(s),!o)return}const i=e>>>28&15|(7&t)<<4,r=!!(t>>3);if(n.push(255&(r?128|i:i)),r){for(let e=3;e<31;e+=7){const i=t>>>e,r=!(i>>>7==0),o=255&(r?128|i:i);if(n.push(o),!r)return}n.push(t>>>31&1)}}!function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,i,r,o,s)=>{(t(i)?i[e.symbol]:i[e.symbol]=[]).push({no:r,wireType:o,data:s})},e.onWrite=(t,n,i)=>{for(let{no:t,wireType:r,data:o}of e.list(n))i.tag(t,r).raw(o)},e.list=(n,i)=>{if(t(n)){let t=n[e.symbol];return i?t.filter(e=>e.no==i):t}return[]},e.last=(t,n)=>e.list(t,n).slice(-1)[0];const t=t=>t&&Array.isArray(t[e.symbol])}(u||(u={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(h||(h={}));const g=4294967296;function w(e){let t="-"==e[0];t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function o(t,o){const s=Number(e.slice(t,o));r*=n,i=i*n+s,i>=g&&(r+=i/g|0,i%=g)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),[t,i,r]}function y(e,t){if(t>>>0<=2097151)return""+(g*t+(e>>>0));let n=(e>>>24|t<<8)>>>0&16777215,i=t>>16&65535,r=(16777215&e)+6777216*n+6710656*i,o=n+8147497*i,s=2*i,a=1e7;function l(e,t){let n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return r>=a&&(o+=Math.floor(r/a),r%=a),o>=a&&(s+=Math.floor(o/a),o%=a),l(s,0)+l(o,s)+l(r,1)}function b(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function T(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}let k;function v(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}!function(){const e=new DataView(new ArrayBuffer(8)),t=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64;k=t?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();const U=/^-?[0-9]+$/,R=4294967296,E=2147483648;class B{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=this.hi*R+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class I extends B{static from(e){if(k)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=k.C(e);case"number":if(0===e)return this.ZERO;e=k.C(e);case"bigint":if(!e)return this.ZERO;if(e<k.UMIN)throw new Error("signed value for ulong");if(e>k.UMAX)throw new Error("ulong too large");return k.V.setBigUint64(0,e,!0),new I(k.V.getInt32(0,!0),k.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!U.test(e))throw new Error("string is no integer");let[t,n,i]=w(e);if(t)throw new Error("signed value for ulong");return new I(n,i);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new I(e,e/R)}throw new Error("unknown value "+typeof e)}toString(){return k?this.toBigInt().toString():y(this.lo,this.hi)}toBigInt(){return v(k),k.V.setInt32(0,this.lo,!0),k.V.setInt32(4,this.hi,!0),k.V.getBigUint64(0,!0)}}I.ZERO=new I(0,0);class N extends B{static from(e){if(k)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=k.C(e);case"number":if(0===e)return this.ZERO;e=k.C(e);case"bigint":if(!e)return this.ZERO;if(e<k.MIN)throw new Error("signed long too small");if(e>k.MAX)throw new Error("signed long too large");return k.V.setBigInt64(0,e,!0),new N(k.V.getInt32(0,!0),k.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!U.test(e))throw new Error("string is no integer");let[t,n,i]=w(e);if(t){if(i>E||i==E&&0!=n)throw new Error("signed long too small")}else if(i>=E)throw new Error("signed long too large");let r=new N(n,i);return t?r.negate():r;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new N(e,e/R):new N(-e,-e/R).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return 0!==(this.hi&E)}negate(){let e=~this.hi,t=this.lo;return t?t=1+~t:e+=1,new N(t,e)}toString(){if(k)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+y(e.lo,e.hi)}return y(this.lo,this.hi)}toBigInt(){return v(k),k.V.setInt32(0,this.lo,!0),k.V.setInt32(4,this.hi,!0),k.V.getBigInt64(0,!0)}}N.ZERO=new N(0,0);const C={readUnknownField:!0,readerFactory:e=>new F(e)};function x(e){return e?Object.assign(Object.assign({},C),e):C}class F{constructor(e,t){this.varint64=f,this.uint32=T,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case h.Varint:for(;128&this.buf[this.pos++];);break;case h.Bit64:this.pos+=4;case h.Bit32:this.pos+=4;break;case h.LengthDelimited:let t=this.uint32();this.pos+=t;break;case h.StartGroup:let n;for(;(n=this.tag()[1])!==h.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new N(...this.varint64())}uint64(){return new I(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,new N(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new I(this.sfixed32(),this.sfixed32())}sfixed64(){return new N(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function S(e,t){if(!e)throw new Error(t)}function M(e,t){throw new Error(null!=t?t:"Unexpected object: "+e)}const A=34028234663852886e22,O=-34028234663852886e22,W=4294967295,_=2147483647,G=-2147483648;function P(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>_||e<G)throw new Error("invalid int 32: "+e)}function L(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>W||e<0)throw new Error("invalid uint 32: "+e)}function $(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>A||e<O))throw new Error("invalid float 32: "+e)}const j={writeUnknownFields:!0,writerFactory:()=>new H};function D(e){return e?Object.assign(Object.assign({},j),e):j}class H{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(L(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return P(e),b(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){$(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){L(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){P(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return P(e),b(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=N.from(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=I.from(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=N.from(e);return m(t.lo,t.hi,this.buf),this}sint64(e){let t=N.from(e),n=t.hi>>31;return m(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=I.from(e);return m(t.lo,t.hi,this.buf),this}}const V={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},q={ignoreUnknownFields:!1};function J(e){return e?Object.assign(Object.assign({},q),e):q}function X(e){return e?Object.assign(Object.assign({},V),e):V}function K(e,t){var n,i;let r=Object.assign(Object.assign({},e),t);return r.typeRegistry=[...null!==(n=null==e?void 0:e.typeRegistry)&&void 0!==n?n:[],...null!==(i=null==t?void 0:t.typeRegistry)&&void 0!==i?i:[]],r}const Y=Symbol.for("protobuf-ts/message-type");function Z(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);"_"==r?t=!0:/\d/.test(r)?(n.push(r),t=!0):t?(n.push(r.toUpperCase()),t=!1):0==i?n.push(r.toLowerCase()):n.push(r)}return n.join("")}var z,Q,ee;function te(e){var t,n,i,r;return e.localName=null!==(t=e.localName)&&void 0!==t?t:Z(e.name),e.jsonName=null!==(n=e.jsonName)&&void 0!==n?n:Z(e.name),e.repeat=null!==(i=e.repeat)&&void 0!==i?i:ee.NO,e.opt=null!==(r=e.opt)&&void 0!==r?r:!e.repeat&&(!e.oneof&&"message"==e.kind),e}function ne(e,t,n,i){var r;const o=null===(r=e.fields.find((e,n)=>e.localName==t||n==t))||void 0===r?void 0:r.options;return o&&o[n]?i.fromJson(o[n]):void 0}function ie(e,t,n,i){var r;const o=null===(r=e.fields.find((e,n)=>e.localName==t||n==t))||void 0===r?void 0:r.options;if(!o)return;const s=o[n];return void 0===s?s:i?i.fromJson(s):s}function re(e,t,n){const i=e.options[t];return void 0===i?i:n?n.fromJson(i):i}function oe(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}function se(e,t){return e[t]}function ae(e,t,n){void 0!==e.oneofKind&&delete e[e.oneofKind],e.oneofKind=t,void 0!==n&&(e[t]=n)}function le(e){void 0!==e.oneofKind&&delete e[e.oneofKind],e.oneofKind=void 0}function de(e){if(void 0!==e.oneofKind)return e[e.oneofKind]}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(z||(z={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(Q||(Q={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(ee||(ee={}));class ce{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;const e=[],t=[],n=[];for(let i of this.fields)if(i.oneof)n.includes(i.oneof)||(n.push(i.oneof),e.push(i.oneof),t.push(i.oneof));else switch(t.push(i.localName),i.kind){case"scalar":case"enum":i.opt&&!i.repeat||e.push(i.localName);break;case"message":i.repeat&&e.push(i.localName);break;case"map":e.push(i.localName)}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t,n=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let i=Object.keys(e),r=this.data;if(i.length<r.req.length||r.req.some(e=>!i.includes(e)))return!1;if(!n&&i.some(e=>!r.known.includes(e)))return!1;if(t<1)return!0;for(const i of r.oneofs){const r=e[i];if(!oe(r))return!1;if(void 0===r.oneofKind)continue;const o=this.fields.find(e=>e.localName===r.oneofKind);if(!o)return!1;if(!this.field(r[r.oneofKind],o,n,t))return!1}for(const i of this.fields)if(void 0===i.oneof&&!this.field(e[i.localName],i,n,t))return!1;return!0}field(e,t,n,i){let r=t.repeat;switch(t.kind){case"scalar":return void 0===e?t.opt:r?this.scalars(e,t.T,i,t.L):this.scalar(e,t.T,t.L);case"enum":return void 0===e?t.opt:r?this.scalars(e,z.INT32,i):this.scalar(e,z.INT32);case"message":return void 0===e||(r?this.messages(e,t.T(),n,i):this.message(e,t.T(),n,i));case"map":if("object"!=typeof e||null===e)return!1;if(i<2)return!0;if(!this.mapKeys(e,t.K,i))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,i,t.V.L);case"enum":return this.scalars(Object.values(e),z.INT32,i);case"message":return this.messages(Object.values(e),t.V.T(),n,i)}}return!0}message(e,t,n,i){return n?t.isAssignable(e,i):t.is(e,i)}messages(e,t,n,i){if(!Array.isArray(e))return!1;if(i<2)return!0;if(n){for(let n=0;n<e.length&&n<i;n++)if(!t.isAssignable(e[n],i-1))return!1}else for(let n=0;n<e.length&&n<i;n++)if(!t.is(e[n],i-1))return!1;return!0}scalar(e,t,n){let i=typeof e;switch(t){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:switch(n){case Q.BIGINT:return"bigint"==i;case Q.NUMBER:return"number"==i&&!isNaN(e);default:return"string"==i}case z.BOOL:return"boolean"==i;case z.STRING:return"string"==i;case z.BYTES:return e instanceof Uint8Array;case z.DOUBLE:case z.FLOAT:return"number"==i&&!isNaN(e);default:return"number"==i&&Number.isInteger(e)}}scalars(e,t,n,i){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e))for(let r=0;r<e.length&&r<n;r++)if(!this.scalar(e[r],t,i))return!1;return!0}mapKeys(e,t,n){let i=Object.keys(e);switch(t){case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:return this.scalars(i.slice(0,n).map(e=>parseInt(e)),t,n);case z.BOOL:return this.scalars(i.slice(0,n).map(e=>"true"==e||"false"!=e&&e),t,n);default:return this.scalars(i,t,n,Q.STRING)}}}function ue(e,t){switch(t){case Q.BIGINT:return e.toBigInt();case Q.NUMBER:return e.toNumber();default:return e.toString()}}class he{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap){this.fMap={};const t=null!==(e=this.info.fields)&&void 0!==e?e:[];for(const e of t)this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,t,n){if(!e){let e=i(n);throw"number"!=e&&"boolean"!=e||(e=n.toString()),new Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,n){this.prepare();const i=[];for(const[o,s]of Object.entries(e)){const e=this.fMap[o];if(!e){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${o}`);continue}const a=e.localName;let l;if(e.oneof){if(null===s&&("enum"!==e.kind||"google.protobuf.NullValue"!==e.T()[0]))continue;if(i.includes(e.oneof))throw new Error(`Multiple members of the oneof group "${e.oneof}" of ${this.info.typeName} are present in JSON.`);i.push(e.oneof),l=t[e.oneof]={oneofKind:a}}else l=t;if("map"==e.kind){if(null===s)continue;this.assert(r(s),e.name,s);const t=l[a];for(const[i,r]of Object.entries(s)){let o;switch(this.assert(null!==r,e.name+" map value",null),e.V.kind){case"message":o=e.V.T().internalJsonRead(r,n);break;case"enum":if(o=this.enum(e.V.T(),r,e.name,n.ignoreUnknownFields),!1===o)continue;break;case"scalar":o=this.scalar(r,e.V.T,e.V.L,e.name)}this.assert(void 0!==o,e.name+" map value",r);let s=i;e.K==z.BOOL&&(s="true"==s||"false"!=s&&s),s=this.scalar(s,e.K,Q.STRING,e.name).toString(),t[s]=o}}else if(e.repeat){if(null===s)continue;this.assert(Array.isArray(s),e.name,s);const t=l[a];for(const i of s){let r;switch(this.assert(null!==i,e.name,null),e.kind){case"message":r=e.T().internalJsonRead(i,n);break;case"enum":if(r=this.enum(e.T(),i,e.name,n.ignoreUnknownFields),!1===r)continue;break;case"scalar":r=this.scalar(i,e.T,e.L,e.name)}this.assert(void 0!==r,e.name,s),t.push(r)}}else switch(e.kind){case"message":if(null===s&&"google.protobuf.Value"!=e.T().typeName){this.assert(void 0===e.oneof,e.name+" (oneof member)",null);continue}l[a]=e.T().internalJsonRead(s,n,l[a]);break;case"enum":if(null===s)continue;let t=this.enum(e.T(),s,e.name,n.ignoreUnknownFields);if(!1===t)continue;l[a]=t;break;case"scalar":if(null===s)continue;l[a]=this.scalar(s,e.T,e.L,e.name)}}}enum(e,t,n,i){if("google.protobuf.NullValue"==e[0]&&S(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return S(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let r=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(r=t.substring(e[2].length));let o=e[1][r];return(void 0!==o||!i)&&(S("number"==typeof o,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),o)}S(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,n,i){let r;try{switch(t){case z.DOUBLE:case z.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){r="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){r="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let i=Number(e);if(Number.isNaN(i)){r="not a number";break}if(!Number.isFinite(i)){r="too large or small";break}return t==z.FLOAT&&$(i),i;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:if(null===e)return 0;let o;if("number"==typeof e?o=e:""===e?r="empty string":"string"==typeof e&&(e.trim().length!==e.length?r="extra whitespace":o=Number(e)),void 0===o)break;return t==z.UINT32?L(o):P(o),o;case z.INT64:case z.SFIXED64:case z.SINT64:if(null===e)return ue(N.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return ue(N.from(e),n);case z.FIXED64:case z.UINT64:if(null===e)return ue(I.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return ue(I.from(e),n);case z.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case z.STRING:if(null===e)return"";if("string"!=typeof e){r="extra whitespace";break}try{encodeURIComponent(e)}catch(r){r="invalid UTF8";break}return e;case z.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return a(e)}}catch(e){r=e.message}this.assert(!1,i+(r?" - "+r:""),e)}}class pe{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){const n={},i=e;for(const e of this.fields){if(!e.oneof){let r=this.field(e,i[e.localName],t);void 0!==r&&(n[t.useProtoFieldName?e.name:e.jsonName]=r);continue}const r=i[e.oneof];if(r.oneofKind!==e.localName)continue;const o="scalar"==e.kind||"enum"==e.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let s=this.field(e,r[e.localName],o);S(void 0!==s),n[t.useProtoFieldName?e.name:e.jsonName]=s}return n}field(e,t,n){let i;if("map"==e.kind){S("object"==typeof t&&null!==t);const r={};switch(e.V.kind){case"scalar":for(const[n,i]of Object.entries(t)){const t=this.scalar(e.V.T,i,e.name,!1,!0);S(void 0!==t),r[n.toString()]=t}break;case"message":const i=e.V.T();for(const[o,s]of Object.entries(t)){const t=this.message(i,s,e.name,n);S(void 0!==t),r[o.toString()]=t}break;case"enum":const o=e.V.T();for(const[i,s]of Object.entries(t)){S(void 0===s||"number"==typeof s);const t=this.enum(o,s,e.name,!1,!0,n.enumAsInteger);S(void 0!==t),r[i.toString()]=t}}(n.emitDefaultValues||Object.keys(r).length>0)&&(i=r)}else if(e.repeat){S(Array.isArray(t));const r=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++){const i=this.scalar(e.T,t[n],e.name,e.opt,!0);S(void 0!==i),r.push(i)}break;case"enum":const i=e.T();for(let o=0;o<t.length;o++){S(void 0===t[o]||"number"==typeof t[o]);const s=this.enum(i,t[o],e.name,e.opt,!0,n.enumAsInteger);S(void 0!==s),r.push(s)}break;case"message":const o=e.T();for(let i=0;i<t.length;i++){const s=this.message(o,t[i],e.name,n);S(void 0!==s),r.push(s)}}(n.emitDefaultValues||r.length>0||n.emitDefaultValues)&&(i=r)}else switch(e.kind){case"scalar":i=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":i=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":i=this.message(e.T(),t,e.name,n)}return i}enum(e,t,n,i,r,o){if("google.protobuf.NullValue"==e[0])return r||i?null:void 0;if(void 0!==t){if(0!==t||r||i)return S("number"==typeof t),S(Number.isInteger(t)),o||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}else S(i)}message(e,t,n,i){return void 0===t?i.emitDefaultValues?null:void 0:e.internalJsonWrite(t,i)}scalar(e,t,n,i,r){if(void 0===t)return void S(i);const o=r||i;switch(e){case z.INT32:case z.SFIXED32:case z.SINT32:return 0===t?o?0:void 0:(P(t),t);case z.FIXED32:case z.UINT32:return 0===t?o?0:void 0:(L(t),t);case z.FLOAT:$(t);case z.DOUBLE:return 0===t?o?0:void 0:(S("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case z.STRING:return""===t?o?"":void 0:(S("string"==typeof t),t);case z.BOOL:return!1===t?!o&&void 0:(S("boolean"==typeof t),t);case z.UINT64:case z.FIXED64:S("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let e=I.from(t);if(e.isZero()&&!o)return;return e.toString();case z.INT64:case z.SFIXED64:case z.SINT64:S("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let n=N.from(t);if(n.isZero()&&!o)return;return n.toString();case z.BYTES:return S(t instanceof Uint8Array),t.byteLength?l(t):o?"":void 0}}}function fe(e,t=Q.STRING){switch(e){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:return ue(I.ZERO,t);case z.INT64:case z.SFIXED64:case z.SINT64:return ue(N.ZERO,t);case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}class me{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(e,t,n,i){this.prepare();const r=void 0===i?e.len:e.pos+i;for(;e.pos<r;){const[i,r]=e.tag(),o=this.fieldNoToField.get(i);if(!o){let o=n.readUnknownField;if("throw"==o)throw new Error(`Unknown field ${i} (wire type ${r}) for ${this.info.typeName}`);let s=e.skip(r);!1!==o&&(!0===o?u.onRead:o)(this.info.typeName,t,i,r,s);continue}let s=t,a=o.repeat,l=o.localName;switch(o.oneof&&(s=s[o.oneof],s.oneofKind!==l&&(s=t[o.oneof]={oneofKind:l})),o.kind){case"scalar":case"enum":let t="enum"==o.kind?z.INT32:o.T,i="scalar"==o.kind?o.L:void 0;if(a){let n=s[l];if(r==h.LengthDelimited&&t!=z.STRING&&t!=z.BYTES){let r=e.uint32()+e.pos;for(;e.pos<r;)n.push(this.scalar(e,t,i))}else n.push(this.scalar(e,t,i))}else s[l]=this.scalar(e,t,i);break;case"message":if(a){let t=s[l],i=o.T().internalBinaryRead(e,e.uint32(),n);t.push(i)}else s[l]=o.T().internalBinaryRead(e,e.uint32(),n,s[l]);break;case"map":let[d,c]=this.mapEntry(o,e,n);s[l][d]=c}}}mapEntry(e,t,n){let i,r,o=t.uint32(),s=t.pos+o;for(;t.pos<s;){let[o,s]=t.tag();switch(o){case 1:i=e.K==z.BOOL?t.bool().toString():this.scalar(t,e.K,Q.STRING);break;case 2:switch(e.V.kind){case"scalar":r=this.scalar(t,e.V.T,e.V.L);break;case"enum":r=t.int32();break;case"message":r=e.V.T().internalBinaryRead(t,t.uint32(),n)}break;default:throw new Error(`Unknown field ${o} (wire type ${s}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===i){let t=fe(e.K);i=e.K==z.BOOL?t.toString():t}if(void 0===r)switch(e.V.kind){case"scalar":r=fe(e.V.T,e.V.L);break;case"enum":r=0;break;case"message":r=e.V.T().create()}return[i,r]}scalar(e,t,n){switch(t){case z.INT32:return e.int32();case z.STRING:return e.string();case z.BOOL:return e.bool();case z.DOUBLE:return e.double();case z.FLOAT:return e.float();case z.INT64:return ue(e.int64(),n);case z.UINT64:return ue(e.uint64(),n);case z.FIXED64:return ue(e.fixed64(),n);case z.FIXED32:return e.fixed32();case z.BYTES:return e.bytes();case z.UINT32:return e.uint32();case z.SFIXED32:return e.sfixed32();case z.SFIXED64:return ue(e.sfixed64(),n);case z.SINT32:return e.sint32();case z.SINT64:return ue(e.sint64(),n)}}}class ge{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(e,t,n){this.prepare();for(const i of this.fields){let r,o,s=i.repeat,a=i.localName;if(i.oneof){const t=e[i.oneof];if(t.oneofKind!==a)continue;r=t[a],o=!0}else r=e[a],o=!1;switch(i.kind){case"scalar":case"enum":let e="enum"==i.kind?z.INT32:i.T;if(s)if(S(Array.isArray(r)),s==ee.PACKED)this.packed(t,e,i.no,r);else for(const n of r)this.scalar(t,e,i.no,n,!0);else void 0===r?S(i.opt):this.scalar(t,e,i.no,r,o||i.opt);break;case"message":if(s){S(Array.isArray(r));for(const e of r)this.message(t,n,i.T(),i.no,e)}else this.message(t,n,i.T(),i.no,r);break;case"map":S("object"==typeof r&&null!==r);for(const[e,o]of Object.entries(r))this.mapEntry(t,n,i,e,o)}}let i=n.writeUnknownFields;!1!==i&&(!0===i?u.onWrite:i)(this.info.typeName,e,t)}mapEntry(e,t,n,i,r){e.tag(n.no,h.LengthDelimited),e.fork();let o=i;switch(n.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:o=Number.parseInt(i);break;case z.BOOL:S("true"==i||"false"==i),o="true"==i}switch(this.scalar(e,n.K,1,o,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,r,!0);break;case"enum":this.scalar(e,z.INT32,2,r,!0);break;case"message":this.message(e,t,n.V.T(),2,r)}e.join()}message(e,t,n,i,r){void 0!==r&&(n.internalBinaryWrite(r,e.tag(i,h.LengthDelimited).fork(),t),e.join())}scalar(e,t,n,i,r){let[o,s,a]=this.scalarInfo(t,i);a&&!r||(e.tag(n,o),e[s](i))}packed(e,t,n,i){if(!i.length)return;S(t!==z.BYTES&&t!==z.STRING),e.tag(n,h.LengthDelimited),e.fork();let[,r]=this.scalarInfo(t);for(let t=0;t<i.length;t++)e[r](i[t]);e.join()}scalarInfo(e,t){let n,i=h.Varint,r=void 0===t,o=0===t;switch(e){case z.INT32:n="int32";break;case z.STRING:o=r||!t.length,i=h.LengthDelimited,n="string";break;case z.BOOL:o=!1===t,n="bool";break;case z.UINT32:n="uint32";break;case z.DOUBLE:i=h.Bit64,n="double";break;case z.FLOAT:i=h.Bit32,n="float";break;case z.INT64:o=r||N.from(t).isZero(),n="int64";break;case z.UINT64:o=r||I.from(t).isZero(),n="uint64";break;case z.FIXED64:o=r||I.from(t).isZero(),i=h.Bit64,n="fixed64";break;case z.BYTES:o=r||!t.byteLength,i=h.LengthDelimited,n="bytes";break;case z.FIXED32:i=h.Bit32,n="fixed32";break;case z.SFIXED32:i=h.Bit32,n="sfixed32";break;case z.SFIXED64:o=r||N.from(t).isZero(),i=h.Bit64,n="sfixed64";break;case z.SINT32:n="sint32";break;case z.SINT64:o=r||N.from(t).isZero(),n="sint64"}return[i,n,r||o]}}function we(e){const t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},Y,{value:e});for(let n of e.fields){let e=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[e]=[];else switch(n.kind){case"scalar":t[e]=fe(n.T,n.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}return t}function ye(e,t,n){let i,r,o=n;for(let n of e.fields){let e=n.localName;if(n.oneof){const s=o[n.oneof];if(null==(null==s?void 0:s.oneofKind))continue;if(i=s[e],r=t[n.oneof],r.oneofKind=s.oneofKind,null==i){delete r[e];continue}}else if(i=o[e],r=t,null==i)continue;switch(n.repeat&&(r[e].length=i.length),n.kind){case"scalar":case"enum":if(n.repeat)for(let t=0;t<i.length;t++)r[e][t]=i[t];else r[e]=i;break;case"message":let t=n.T();if(n.repeat)for(let n=0;n<i.length;n++)r[e][n]=t.create(i[n]);else void 0===r[e]?r[e]=t.create(i):t.mergePartial(r[e],i);break;case"map":switch(n.V.kind){case"scalar":case"enum":Object.assign(r[e],i);break;case"message":let t=n.V.T();for(let n of Object.keys(i))r[e][n]=t.create(i[n])}}}}function be(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let i of e.fields){let e=i.localName,r=i.oneof?t[i.oneof][e]:t[e],o=i.oneof?n[i.oneof][e]:n[e];switch(i.kind){case"enum":case"scalar":let e="enum"==i.kind?z.INT32:i.T;if(!(i.repeat?ve(e,r,o):ke(e,r,o)))return!1;break;case"map":if(!("message"==i.V.kind?Ue(i.V.T(),Te(r),Te(o)):ve("enum"==i.V.kind?z.INT32:i.V.T,Te(r),Te(o))))return!1;break;case"message":let t=i.T();if(!(i.repeat?Ue(t,r,o):t.equals(r,o)))return!1}}return!0}const Te=Object.values;function ke(e,t,n){if(t===n)return!0;if(e!==z.BYTES)return!1;let i=t,r=n;if(i.length!==r.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!=r[e])return!1;return!0}function ve(e,t,n){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!ke(e,t[i],n[i]))return!1;return!0}function Ue(e,t,n){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!e.equals(t[i],n[i]))return!1;return!0}const Re=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({})),Ee=Re[Y]={};class Be{constructor(e,t,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(te),this.options=null!=n?n:{},Ee.value=this,this.messagePrototype=Object.create(null,Re),this.refTypeCheck=new ce(this),this.refJsonReader=new he(this),this.refJsonWriter=new pe(this),this.refBinReader=new me(this),this.refBinWriter=new ge(this)}create(e){let t=we(this);return void 0!==e&&ye(this,t,e),t}clone(e){let t=this.create();return ye(this,t,e),t}equals(e,t){return be(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){ye(this,e,t)}fromBinary(e,t){let n=x(t);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,t){return this.internalJsonRead(e,J(t))}fromJsonString(e,t){let n=JSON.parse(e);return this.fromJson(n,t)}toJson(e,t){return this.internalJsonWrite(e,X(t))}toJsonString(e,t){var n;let i=this.toJson(e,t);return JSON.stringify(i,null,null!==(n=null==t?void 0:t.prettySpaces)&&void 0!==n?n:0)}toBinary(e,t){let n=D(t);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,t,n){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let i=null!=n?n:this.create();return this.refJsonReader.read(e,i,t),i}throw new Error(`Unable to parse message ${this.typeName} from JSON ${i(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,n){return this.refBinWriter.write(e,t,n),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create();return this.refBinReader.read(e,r,n,t),r}}function Ie(e){return null!=e[Y]}function Ne(e){if("object"!=typeof e||null===e)return!1;if(!e.hasOwnProperty(0))return!1;for(let t of Object.keys(e)){let n=parseInt(t);if(Number.isNaN(n)){let n=e[t];if(void 0===n)return!1;if("number"!=typeof n)return!1;if(void 0===e[n])return!1}else{let t=e[n];if(void 0===t)return!1;if(e[t]!==n)return!1}}return!0}function Ce(e){if(!Ne(e))throw new Error("not a typescript enum object");let t=[];for(let[n,i]of Object.entries(e))"number"==typeof i&&t.push({name:n,number:i});return t}function xe(e){return Ce(e).map(e=>e.name)}function Fe(e){return Ce(e).map(e=>e.number).filter((e,t,n)=>n.indexOf(e)==t)}},658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelOrChannelGroupUuid=t.RoleOrMemberUuid=t.AppHostServerUuid=t.AppHubServerUuid=t.WebApiServerUuid=t.UserUuid=t.UnknownUuid=t.NotificationUuid=t.MessageUuid=t.MessageContainerUuid=t.MessageBusServerUuid=t.MessageAttachmentUuid=t.HubServerUuid=t.FriendshipInviteUuid=t.FriendshipUuid=t.FriendshipGroupUuid=t.FileUuid=t.DirectoryUuid=t.DirectMessageMemberUuid=t.DirectMessageUuid=t.DeviceUuid=t.AppOrganizationUuid=t.CommunityMemberRoleUuid=t.CommunityRoleMapUuid=t.CommunityRoleUuid=t.CommunityMemberUuid=t.CommunityLogUuid=t.CommunityMemberInviteUuid=t.CommunityUuid=t.CommunityMemberBanUuid=t.CommunityAppUuid=t.CommandIdempotencyUuid=t.ChannelUuid=t.ChannelGroupUuid=t.BadgeUuid=t.AssetUuid=t.PersonUuid=t.AppDeploymentUuid=t.AppVersionUuid=t.AppUuid=t.RootUuid=void 0;const i=n(654),r=n(654),o=n(654),s=n(654);class a extends s.MessageType{constructor(){super("root.RootUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.RootUuid=new a;class l extends s.MessageType{constructor(){super("root.AppUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppUuid=new l;class d extends s.MessageType{constructor(){super("root.AppVersionUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppVersionUuid=new d;class c extends s.MessageType{constructor(){super("root.AppDeploymentUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppDeploymentUuid=new c;class u extends s.MessageType{constructor(){super("root.PersonUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.PersonUuid=new u;class h extends s.MessageType{constructor(){super("root.AssetUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AssetUuid=new h;class p extends s.MessageType{constructor(){super("root.BadgeUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.BadgeUuid=new p;class f extends s.MessageType{constructor(){super("root.ChannelGroupUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.ChannelGroupUuid=new f;class m extends s.MessageType{constructor(){super("root.ChannelUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.ChannelUuid=new m;class g extends s.MessageType{constructor(){super("root.CommandIdempotencyUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommandIdempotencyUuid=new g;class w extends s.MessageType{constructor(){super("root.CommunityAppUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityAppUuid=new w;class y extends s.MessageType{constructor(){super("root.CommunityMemberBanUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityMemberBanUuid=new y;class b extends s.MessageType{constructor(){super("root.CommunityUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityUuid=new b;class T extends s.MessageType{constructor(){super("root.CommunityMemberInviteUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityMemberInviteUuid=new T;class k extends s.MessageType{constructor(){super("root.CommunityLogUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityLogUuid=new k;class v extends s.MessageType{constructor(){super("root.CommunityMemberUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityMemberUuid=new v;class U extends s.MessageType{constructor(){super("root.CommunityRoleUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityRoleUuid=new U;class R extends s.MessageType{constructor(){super("root.CommunityRoleMapUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityRoleMapUuid=new R;class E extends s.MessageType{constructor(){super("root.CommunityMemberRoleUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.CommunityMemberRoleUuid=new E;class B extends s.MessageType{constructor(){super("root.AppOrganizationUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppOrganizationUuid=new B;class I extends s.MessageType{constructor(){super("root.DeviceUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.DeviceUuid=new I;class N extends s.MessageType{constructor(){super("root.DirectMessageUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.DirectMessageUuid=new N;class C extends s.MessageType{constructor(){super("root.DirectMessageMemberUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.DirectMessageMemberUuid=new C;class x extends s.MessageType{constructor(){super("root.DirectoryUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.DirectoryUuid=new x;class F extends s.MessageType{constructor(){super("root.FileUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.FileUuid=new F;class S extends s.MessageType{constructor(){super("root.FriendshipGroupUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.FriendshipGroupUuid=new S;class M extends s.MessageType{constructor(){super("root.FriendshipUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.FriendshipUuid=new M;class A extends s.MessageType{constructor(){super("root.FriendshipInviteUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.FriendshipInviteUuid=new A;class O extends s.MessageType{constructor(){super("root.HubServerUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.HubServerUuid=new O;class W extends s.MessageType{constructor(){super("root.MessageAttachmentUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.MessageAttachmentUuid=new W;class _ extends s.MessageType{constructor(){super("root.MessageBusServerUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.MessageBusServerUuid=new _;class G extends s.MessageType{constructor(){super("root.MessageContainerUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.MessageContainerUuid=new G;class P extends s.MessageType{constructor(){super("root.MessageUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.MessageUuid=new P;class L extends s.MessageType{constructor(){super("root.NotificationUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.NotificationUuid=new L;class $ extends s.MessageType{constructor(){super("root.UnknownUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.UnknownUuid=new $;class j extends s.MessageType{constructor(){super("root.UserUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.UserUuid=new j;class D extends s.MessageType{constructor(){super("root.WebApiServerUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.WebApiServerUuid=new D;class H extends s.MessageType{constructor(){super("root.AppHubServerUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppHubServerUuid=new H;class V extends s.MessageType{constructor(){super("root.AppHostServerUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.AppHostServerUuid=new V;class q extends s.MessageType{constructor(){super("root.RoleOrMemberUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.RoleOrMemberUuid=new q;class J extends s.MessageType{constructor(){super("root.ChannelOrChannelGroupUuid",[{no:1,name:"high64",kind:"scalar",T:6,L:0},{no:2,name:"low64",kind:"scalar",T:6,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.high64=0n,t.low64=0n,void 0!==e&&(0,o.reflectionMergePartial)(this,t,e),t}internalBinaryRead(e,t,n,i){let o=i??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,i]=e.tag();switch(t){case 1:o.high64=e.fixed64().toBigInt();break;case 2:o.low64=e.fixed64().toBigInt();break;default:let s=n.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${i}) for ${this.typeName}`);let a=e.skip(i);!1!==s&&(!0===s?r.UnknownFieldHandler.onRead:s)(this.typeName,o,t,i,a)}}return o}internalBinaryWrite(e,t,n){0n!==e.high64&&t.tag(1,i.WireType.Bit64).fixed64(e.high64),0n!==e.low64&&t.tag(2,i.WireType.Bit64).fixed64(e.low64);let o=n.writeUnknownFields;return!1!==o&&(1==o?r.UnknownFieldHandler.onWrite:o)(this.typeName,e,t),t}}t.ChannelOrChannelGroupUuid=new J},669:function(e,t){"use strict";var n,i,r,o,s,a=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.RootGuidConverter=t.RootGuidUtils=t.ROOT_EPOCH=t.EmptyGuid=void 0,t.EmptyGuid="AAAAAAAAAAAAAAAAAAAAAA",t.ROOT_EPOCH=15778368e5;const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));class d{constructor(){}static toString(e){return n.toStringFromArray(a(n,n,"m",i).call(n,e))}static toStringNullable(e){if(e)return n.toString(e)}static toGuid(e){return n.toString(e)}static toGuidNullable(e){if(e)return n.toString(e)}static toUuid(e){if(!e)throw new Error("toUuid called with no data");const t=n.stringToUint8Array(e);return{high64:a(n,n,"m",o).call(n,t),low64:a(n,n,"m",s).call(n,t)}}static toUuidNullable(e){if(e)return n.toUuid(e)}static toRootGuidType(e){if(!e)return 0;return n.stringToUint8Array(e)[7]}static toMilliseconds(e){if(!e)throw new Error("Unable to use toMillisecond on null");const i=n.stringToUint8Array(e);let r=BigInt(0);for(let e=0;e<6;e++)r=(r<<BigInt(8))+BigInt(i[e]);return Number(BigInt(t.ROOT_EPOCH)+r)}static stringToUint8Array(e){if(!e)throw new Error(`RootGuidUtils.ToUint8Array failed: ${e}`);if(22==e.length){const t=atob(e.replace(/\-/g,"+").replace(/_/g,"/")+"=="),n=t.length,i=new Uint8Array(16);if(16!=n)throw new Error(`RootGuidUtils.ToUint8Array failed short decode error: ${e}`);for(let e=0;e<n;e++)i[e]=t.charCodeAt(e);return i}if(36==e.length){const t=new Uint8Array(16);let n=parseInt(e.slice(0,8),16);return t[0]=n>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=255&n,n=parseInt(e.slice(9,13),16),t[4]=n>>>8,t[5]=255&n,n=parseInt(e.slice(14,18),16),t[6]=n>>>8,t[7]=255&n,n=parseInt(e.slice(19,23),16),t[8]=n>>>8,t[9]=255&n,n=parseInt(e.slice(24,36),16),t[10]=n/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=255&n,t}throw new Error(`RootGuidUtils.ToUint8Array failed length: ${e}`)}static toUuidString(e){if(!e)return"";const t=n.stringToUint8Array(e);return a(n,n,"m",r).call(n,t)}static toStringFromArray(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22)}}t.RootGuidUtils=d,n=d,i=function(e){if(!e)throw new Error("RootGuidUtils.ToUintArray null argument");const t=new Uint8Array(new ArrayBuffer(16));return t[0]=Number(0xffn&e.high64>>56n),t[1]=Number(0xffn&e.high64>>48n),t[2]=Number(0xffn&e.high64>>40n),t[3]=Number(0xffn&e.high64>>32n),t[4]=Number(0xffn&e.high64>>24n),t[5]=Number(0xffn&e.high64>>16n),t[6]=Number(0xffn&e.high64>>8n),t[7]=Number(0xffn&e.high64),t[8]=Number(0xffn&e.low64>>56n),t[9]=Number(0xffn&e.low64>>48n),t[10]=Number(0xffn&e.low64>>40n),t[11]=Number(0xffn&e.low64>>32n),t[12]=Number(0xffn&e.low64>>24n),t[13]=Number(0xffn&e.low64>>16n),t[14]=Number(0xffn&e.low64>>8n),t[15]=Number(0xffn&e.low64),t},r=function(e){return l[e[0]]+l[e[1]]+l[e[2]]+l[e[3]]+"-"+l[e[4]]+l[e[5]]+"-"+l[e[6]]+l[e[7]]+"-"+l[e[8]]+l[e[9]]+"-"+l[e[10]]+l[e[11]]+l[e[12]]+l[e[13]]+l[e[14]]+l[e[15]]},o=function(e){let t=0n;for(let n=0;n<8;n++){t=(t<<8n)+BigInt(e[n])}return t},s=function(e){let t=0n;for(let n=8;n<16;n++){t=(t<<8n)+BigInt(e[n])}return t};t.RootGuidConverter=class{static toMilliseconds(e){return d.toMilliseconds(e)}static toRootGuidType(e){return d.toRootGuidType(e)}static parse(e){const t=d.stringToUint8Array(e);return d.toStringFromArray(t)}}},677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootClientUser=t.RootClientUserEvent=void 0;const i=n(455);var r;!function(e){e.UserProfileUpdate="user.profile.update"}(r||(t.RootClientUserEvent=r={}));class o extends i.EventEmitter{getCurrentUserId(){return window.parent.rootSdk.getCurrentUserId()}getUserProfile(e){return window.parent.rootSdk.getUserProfile(e)}getUserProfiles(e){return window.parent.rootSdk.getUserProfiles(e)}showUserProfile(e){return window.parent.rootSdk.showUserProfile(e)}}t.rootClientUser=new o},704:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(n+e),r=t.indexOf("--");return-1!==i&&(-1===r||i<r)}},857:e=>{"use strict";e.exports=require("os")},864:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rootClientLifecycle=void 0;t.rootClientLifecycle=new class{restart(e){window.parent.__rootSdkBridgeWebToNative?.restart&&window.parent.__rootSdkBridgeWebToNative.restart(e)}}},938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SafeGuid=void 0;const i=n(441),r=n(669);t.SafeGuid=class{static toApp(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.App)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.App)`);return e}static toChannel(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.Channel)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Channel)`);return e}static toChannelGroup(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.ChannelGroup)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.ChannelGroup)`);return e}static toUser(e){const t=r.RootGuidUtils.toRootGuidType(e);if(t!=i.RootGuidType.Person&&t!=i.RootGuidType.App)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Person | RootGuidType.App)`);return e}static toCommunityRole(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.CommunityRole)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CommunityRole)`);return e}static toAsset(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.Asset)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Asset)`);return e}static toCommandIdempotency(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.CommandIdempotency)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CommandIdempotency)`);return e}static toCommunity(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.Community)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Community)`);return e}static toCommunityApp(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.CommunityApp)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CommunityApp)`);return e}static toRoleOrMember(e){const t=r.RootGuidUtils.toRootGuidType(e);if(t!=i.RootGuidType.CommunityRole&&t!=i.RootGuidType.Person&&t!=i.RootGuidType.App)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CommunityRole | RootGuidType.Person | RootGuidType.App)`);return e}static toDirectory(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.Directory)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Directory)`);return e}static toFile(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.File)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.File)`);return e}static toMessage(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.Message)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Message)`);return e}static toBadge(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.Badge)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Badge)`);return e}static toDevice(e){const t=r.RootGuidUtils.toRootGuidType(e);if(t!=i.RootGuidType.Desktop&&t!=i.RootGuidType.Mobile)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Desktop | RootGuidType.Mobile)`);return e}static toChannelOrChannelGroup(e){const t=r.RootGuidUtils.toRootGuidType(e);if(t!=i.RootGuidType.Channel&&t!=i.RootGuidType.ChannelGroup)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Channel | RootGuidType.ChannelGroup)`);return e}static toUnknown(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.Unknown)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.Unknown)`);return e}static toCommunityLog(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.CommunityLog)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CommunityLog)`);return e}static toCommunityMemberBan(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.CommunityMemberBan)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CommunityMemberBan)`);return e}static toCommunityMemberInvite(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.CommunityMemberInvite)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CommunityMemberInvite)`);return e}static toCustomMemberGroup(e){if(r.RootGuidUtils.toRootGuidType(e)!=i.RootGuidType.CustomMemberGroup)throw new Error(`Guid is of wrong type: ${r.RootGuidUtils.toRootGuidType(e)} should be (RootGuidType.CustomMemberGroup)`);return e}}},978:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceDefinitionSymbol=t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=void 0,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=524288,t.ServiceDefinitionSymbol=Symbol("rootapp-definition-symbol")},989:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(236)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},992:function(e,t,n){"use strict";var i,r,o,s,a,l=this&&this.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},d=this&&this.__classPrivateFieldSet||function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.clientServiceManager=void 0;const u=c(n(221)),h=n(455),p=n(329),f=n(314),m=(0,u.default)("rootsdk:rpc");(0,u.default)("rootsdk:broadcast");function g(e){return e.ToJsArrayBuffer?new Uint8Array(e.ToJsArrayBuffer()):e}i=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,t.clientServiceManager=new class{constructor(){i.set(this,(new Date).getTime()),r.set(this,BigInt(0)),o.set(this,new Map),s.set(this,new Map),a.set(this,new Map),setInterval(()=>{const e=new Date(Date.now()-15e3);for(let[t,n]of l(this,o,"f"))if(n.timestamp<e){l(this,o,"f").delete(t);const e=n.potentialException;e.code=h.RootServerExceptionType.RequestTimeout,e.message="Request timed out",n.reject(e)}},1e3)}addClient(e){e.__register||(console.error(`Unknown service ${e.ClientServiceName??e}`),process.exit()),m("Registering service: %s at %d",e.ClientServiceName,l(this,i,"f"));const t=e.__register();for(let e of t)this.addEndpoint(e)}addEndpoint(e){if(null==e||"object"!=typeof e)throw new Error("addEndpoint() requires two objects as arguments");if(l(this,s,"f").has(e.path))throw new Error(`Method handler for ${e.serviceName}.${e.methodName} already provided.`);m(" - %s(handler)",e.path),l(this,s,"f").set(e.path,e),(e.responseDeserialize||e.funct)&&(l(this,a,"f").set(e.path,e),m(" - %s(endpoint)",e.path))}send(e,t,n){const i=l(this,s,"f").get(e);if(!i)throw new h.RootServerException(h.RootServerExceptionType.RootInternalException,`Handler for ${e} is missing. Did you not add this service?`,n);if(!i.requestSerialize)throw new h.RootServerException(h.RootServerExceptionType.RootInternalException,`Serializer for ${e} is missing. Did you not add this service?`,n);m("Sending %s %o",i.path,t);const r=f.AppRpcMessage.create({path:i.path,body:i.requestSerialize(t)});if(r.body.length>h.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH)throw new h.RootServerException(h.RootServerExceptionType.MessageTooLong,`Message too long ${i.path} -> ${r.body.length}`,n);if(!window.parent.__rootSdkBridgeWebToNative?.send)throw new h.RootServerException(h.RootServerExceptionType.RootInternalException,"WebToNative bridge missing send",n);window.parent.__rootSdkBridgeWebToNative.send(f.AppRpcMessage.toBinary(r).buffer)}sendWithResponse(e,t,n){var i;const a=l(this,s,"f").get(e);if(!a)throw new h.RootServerException(h.RootServerExceptionType.RootInternalException,`Handler for ${e} is missing. Did you not add this service?`,n);if(!a.requestSerialize)throw new h.RootServerException(h.RootServerExceptionType.RootInternalException,`Serializer for ${e} is missing. Did you not add this service?`,n);m("Sending %s %o",a.path,t);const c=f.AppRpcMessage.create({path:a.path,body:a.requestSerialize(t),requestId:d(this,r,(i=l(this,r,"f"),++i),"f")}),u=new h.RootServerException(0,"",n);return new Promise((e,t)=>{if(l(this,o,"f").set(c.requestId,{potentialException:u,timestamp:new Date,resolve:e,reject:t}),!window.parent.__rootSdkBridgeWebToNative.send)throw console.error("BridgeWebToNative has no send"),u.code=h.RootServerExceptionType.RootInternalException,u;window.parent.__rootSdkBridgeWebToNative.send(f.AppRpcMessage.toBinary(c).buffer)})}receive(e,t){switch(t){case f.AppRpcMessageType.APP_MESSAGE:this.receiveMessage(e);break;case f.AppRpcMessageType.APP_MESSAGE_EXCEPTION:this.receiveException(e);break;default:throw new h.RootServerException(h.RootServerExceptionType.RootInternalException,"received an unknown message type: "+t)}}receiveException(e){const t=f.AppRpcMessageServerException.fromBinary(e);if(t.requestId){const e=l(this,o,"f").get(t.requestId);if(!e)return void console.error(`Request handler for ${t.path}(${t.requestId}) is missing.`);const n=e.potentialException;n.code=t.code,n.message=t.message,e.reject(n)}else console.error(`Exception received: ${t.code} - ${t.message}`)}receiveMessage(e){const t=f.AppRpcMessage.fromBinary(e),n=l(this,a,"f").get(t.path);if(!n)throw new Error(`Endpoint handler for ${t.path} is missing! `+l(this,i,"f"));if(!n.responseDeserialize)throw new Error(`Handler for ${n.path}.responseSerialize is missing`);const r=n.responseDeserialize(t.body);if(m("Received %s %o",n.path,r),t.requestId){const e=l(this,o,"f").get(t.requestId);if(!e)return void console.error(`Request handler for ${t.path}(${t.requestId}) is missing.`);e.resolve(r)}else try{n.funct(r)}catch(e){console.error(e)}}},window.__rootSdkBridgeNativeToWeb?window.__rootSdkBridgeNativeToWeb.receive||(window.__rootSdkBridgeNativeToWeb.receive=(e,n)=>{t.clientServiceManager.receive(g(e),n)},window.__rootSdkBridgeNativeToWeb.setTheme=p.setThemeCss):window.__rootSdkBridgeNativeToWeb={receive:(e,n)=>{t.clientServiceManager.receive(g(e),n)},setTheme:p.setThemeCss}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(365)})());